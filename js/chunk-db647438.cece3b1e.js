(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db647438"],{"0c35":function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t._self._c;return o("Dialog",{staticClass:"color-picker-dialog",attrs:{resizable:!1,mask:!1,size:"small"},on:{clickOutside:t.close},nativeOn:{mousedown:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"header",fn:function(){return[o("div",[o("div",{staticClass:"dialog__title"},[t._v(t._s(t.label))])])]},proxy:!0}])},[o("div",{ref:"canvas",staticClass:"color-picker-dialog-canvas",on:{mousedown:t.startMovingThumbWithMouse,touchstart:t.startMovingThumbWithTouch}},[o("div",{ref:"thumb",staticClass:"color-picker-dialog-canvas__thumb",attrs:{tabindex:"0","aria-label":"Color space thumb"}})]),o("div",{staticClass:"color-picker-dialog-sliders"},[o("slider",{staticClass:"color-picker-dialog-sliders__hue",attrs:{showCompletion:!1,gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],max:360},on:{input:function(o){return t.updateHue(t.hue)}},model:{value:t.hue,callback:function(o){t.hue=o},expression:"hue"}}),o("slider",{staticClass:"color-picker-dialog-sliders__alpha -alpha",attrs:{gradient:[`rgba(${255*t.colors.rgb.r}, ${255*t.colors.rgb.g}, ${255*t.colors.rgb.b}, 0)`,`rgba(${255*t.colors.rgb.r}, ${255*t.colors.rgb.g}, ${255*t.colors.rgb.b}, 1)`],min:0,max:1,step:.01,value:t.alpha,showCompletion:!1},on:{input:function(o){return t.updateAlpha(t.alpha)}},model:{value:t.alpha,callback:function(o){t.alpha=o},expression:"alpha"}})],1),o("div",{staticClass:"color-picker-dialog-controls"},[o("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -small",attrs:{type:"button",title:"Rotate"},on:{click:t.switchFormat}},[o("i",{staticClass:"icon-refresh"})]),o("editable",{staticClass:"form-control hide-scrollbar",attrs:{value:t.displayColor},on:{input:function(o){return t.setColorFromProp(o)}}}),o("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -small",attrs:{type:"button",title:"Save color"},on:{click:t.submitColor}},[o("i",{staticClass:"icon-save"})])],1),t.showPalette?[o("div",{staticClass:"color-picker-dialog-colors"},[t._l(t.swatches,(function(e){return o("button",{key:e,staticClass:"btn color-picker-dialog-colors__color",class:[e===t.outputColor&&"color-picker-dialog-colors__color--active"],style:"color: "+e,attrs:{type:"button"},on:{click:function(o){return o.preventDefault(),t.setColorFromProp(e)}}})})),o("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{distance:16},expression:"{ distance: 16 }"}],staticClass:"btn color-picker-dialog-colors__color color-picker-dialog-colors__color--transparent",attrs:{type:"button",title:"Transparent"},on:{click:function(o){return o.preventDefault(),t.setTransparent.apply(null,arguments)}}}),o("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{distance:16},expression:"{ distance: 16 }"}],staticClass:"btn -text color-picker-dialog-colors__color color-picker-dialog-colors__color--null",attrs:{type:"button",title:"Default color"},on:{click:function(o){return o.preventDefault(),t.setNull.apply(null,arguments)}}},[o("i",{staticClass:"icon-cross -small"})])],2),o("div",{staticClass:"color-picker-dialog-colors"},t._l(t.recentColors,(function(e){return o("a",{key:e,staticClass:"color-picker-dialog-colors__color",class:[e===t.outputColor&&"color-picker-dialog-colors__color--active"],style:"color: "+e,attrs:{role:"button",href:"#"},on:{click:function(o){return o.preventDefault(),t.selectRecentColor(o,e)}}})})),0)]:t._e()],2)},s=[],n=e("fa07"),i=e("7250"),a=e("7ab0"),l=e("1ea0"),c=e("be31");function u(t,o=2){return t.toFixed(o).replace(/0+$/,"").replace(/\.$/,"")}function h(t){const o=t.replace(/^#/,""),e=[],r=o.length>4?2:1;for(let n=0;n<o.length;n+=r){const t=o.slice(n,n+r);e.push(t.repeat(r%2+1))}3===e.length&&e.push("ff");const s=e.map(t=>parseInt(t,16)/255);return{r:s[0],g:s[1],b:s[2],a:s[3]}}function p(t){const o=t.l+t.s*Math.min(t.l,1-t.l),e=0===o?0:2-2*t.l/o;return{h:t.h,s:e,v:o,a:t.a}}function m(t,o,e){return e<0?e+=1:e>1&&(e-=1),e<1/6?t+6*(o-t)*e:e<.5?o:e<2/3?t+(o-t)*(2/3-e)*6:t}function f(t){const o=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,e=2*t.l-o;return{r:m(e,o,t.h+1/3),g:m(e,o,t.h),b:m(e,o,t.h-1/3),a:t.a}}function v(t){const o=t.v-t.v*t.s/2,e=Math.min(o,1-o),r=0===e?0:(t.v-o)/e;return{h:t.h,s:r,l:o,a:t.a}}function b(t){return{h:t.h,w:(1-t.s)*t.v,b:1-t.v,a:t.a}}function d(t,o){const e=(t+6*o.h)%6;return o.v-o.v*o.s*Math.max(0,Math.min(e,4-e,1))}function g(t){return{r:d(5,t),g:d(3,t),b:d(1,t),a:t.a}}function C(t){return{h:t.h,s:1===t.b?0:1-t.w/(1-t.b),v:1-t.b,a:t.a}}function y(t){const o=Object.values(t).map(t=>{const o=255*t,e=Math.round(o).toString(16);return 1===e.length?"0"+e:e});return"#"+o.join("")}function w(t){const o=Math.min(t.r,t.g,t.b),e=Math.max(t.r,t.g,t.b);let r;return r=e===o?0:e===t.r?(0+(t.g-t.b)/(e-o))/6:e===t.g?(2+(t.b-t.r)/(e-o))/6:(4+(t.r-t.g)/(e-o))/6,r<0&&(r+=1),{h:r,w:o,b:1-e,a:t.a}}function x(t){const o=w(t),e=o.w,r=1-o.b,s=(r+e)/2;let n;return n=0===r||1===e?0:(r-s)/Math.min(s,1-s),{h:o.h,s:n,l:s,a:t.a}}function k(t,o,e){return Math.max(o,Math.min(t,e))}function T(t){return u(360*t)}function $(t,o){if("string"===typeof t||"string"===typeof o)return t===o;for(const e in t)if(t[e]!==o[e])return!1;return!0}function _(t,o){return o.reduce((t,o)=>o(t),t)}function F(t){const o={};for(const e in t)o[e]=t[e];return o}function M(t){if(t.endsWith("."))return NaN;const o=(parseFloat(t)%360+360)%360;return o/360}function N(t){if(!t.endsWith("%"))return NaN;const o=t.substring(0,t.length-1);if(o.endsWith("."))return NaN;const e=parseFloat(o);return Number.isNaN(e)?NaN:k(e,0,100)/100}function W(t){return u(100*t)+"%"}function O(t){if(t.endsWith("%"))return N(t);if(t.endsWith("."))return NaN;const o=parseFloat(t);return Number.isNaN(o)?NaN:k(o,0,255)/255}function P(t){return u(255*t)}function S(t){return t.endsWith("%")?N(t):k(parseFloat(t),0,1)}function j(t){return String(t)}function E(t){return Object.prototype.hasOwnProperty.call(t,"r")?"rgb":Object.prototype.hasOwnProperty.call(t,"w")?"hwb":Object.prototype.hasOwnProperty.call(t,"v")?"hsv":"hsl"}const D={hex(t,o){return o&&[5,9].includes(t.length)?t.substring(0,t.length-(t.length-1)/4):t},hsl(t,o){const e=Math.round(360*t.h),r=Math.round(100*t.s),s=Math.round(100*t.l);return`hsl${o||1===t.a?"":"a"}(${e},${r}%,${s}%`+(o||1===t.a?")":`,${u(t.a)})`)},hwb(t,o){const e=u(360*t.h),r=u(100*t.w),s=u(100*t.b);return`hwb(${e} ${r}% ${s}%`+(o?")":` / ${u(t.a)})`)},rgb(t,o){const e=Math.round(255*t.r),r=Math.round(255*t.g),s=Math.round(255*t.b);return`rgb${1===t.a||o?"":"a"}(${e},${r},${s}${1===t.a||o?"":","+u(t.a)})`}};function L(t,o,e=!1){return D[o](t,e)}function A(t){return!!t.startsWith("#")&&(!![3,4,6,8].includes(t.length-1)&&/^#[0-9A-Fa-f]+$/.test(t))}const H={hex:[["hsl",t=>_(t,[h,x])],["hsv",t=>_(t,[h,w,C])],["hwb",t=>_(t,[h,w])],["rgb",h]],hsl:[["hex",t=>_(t,[f,y])],["hsv",p],["hwb",t=>_(t,[f,w])],["rgb",f]],hsv:[["hex",t=>_(t,[g,y])],["hsl",v],["hwb",b],["rgb",g]],hwb:[["hex",t=>_(t,[C,g,y])],["hsl",t=>_(t,[C,g,x])],["hsv",C],["rgb",t=>_(t,[C,g])]],rgb:[["hex",y],["hsl",x],["hsv",t=>_(t,[w,C])],["hwb",w]]},R={hsl:{h:{to:T,from:M},s:{to:W,from:N},l:{to:W,from:N},a:{to:j,from:S}},hwb:{h:{to:T,from:M},w:{to:W,from:N},b:{to:W,from:N},a:{to:j,from:S}},rgb:{r:{to:P,from:O},g:{to:P,from:O},b:{to:P,from:O},a:{to:j,from:S}}};function z(t){if("string"!==typeof t){const o=E(t);return{format:o,color:t}}if(A(t))return{format:"hex",color:t};if(!t.includes("(")){const o=document.createElement("canvas").getContext("2d");o.fillStyle=t;const e=o.fillStyle;return"#000000"===e&&"black"!==t?null:{format:"hex",color:e}}const[o,e]=t.split("("),r=o.substring(0,3),s=e.replace(/[,/)]/g," ").replace(/\s+/g," ").trim().split(" ");3===s.length&&s.push("1");const n=r.split("").concat("a"),i=Object.fromEntries(n.map((t,o)=>[t,R[r][t].from(s[o])]));return{format:r,color:i}}const B=["hex","hsl","rgb"];var I={name:"ColorPickerDialog",mixins:[l["a"]],components:{Dialog:i["a"],Slider:a["a"]},props:{value:{type:String,default:"#000"},label:{type:String,default:"Select color"},outputFormat:{type:String,default:"rgb"},showPalette:{type:Boolean,default:!0}},data:()=>({colors:{hex:"#ffffffff",hsl:{h:0,s:0,l:1,a:1},hsv:{h:0,s:0,v:1,a:1},rgb:{r:1,g:1,b:1,a:1}},activeFormat:"rgb",recentColors:[],movingFromCanvas:!1,hue:null,alpha:1}),computed:{swatches:()=>n["a"],outputColor(){const t=this.colors[this.outputFormat],o=L(t,this.outputFormat);return o},displayColor(){if(this.activeFormat===this.outputFormat)return this.outputColor;const t=this.colors[this.activeFormat],o=L(t,this.activeFormat);return o}},created(){c["a"].getColors().then(t=>{for(const o of t)this.recentColors.push(o)}),this.value&&"string"===typeof this.value&&this.setColorFromProp(this.value,!0)},mounted(){const t={passive:!0};document.addEventListener("mousemove",this.moveThumbWithMouse,t),document.addEventListener("touchmove",this.moveThumbWithTouch,t),document.addEventListener("mouseup",this.stopMovingThumb,t),document.addEventListener("touchend",this.stopMovingThumb),this.updateCanvas(this.colors)},beforeDestroy(){document.removeEventListener("mousemove",this.moveThumbWithMouse),document.removeEventListener("touchmove",this.moveThumbWithTouch),document.removeEventListener("mouseup",this.stopMovingThumb),document.removeEventListener("touchend",this.stopMovingThumb)},methods:{setColorFromProp(t,o=!1){if(null===t)return;const e=z(t);null!==e&&(this.activeFormat=e.format,1===e.color.a&&!o&&this.alpha&&this.alpha<1&&(e.color.a=this.alpha),this.setColor(e.format,e.color,o))},startMovingThumbWithMouse(t){this.movingFromCanvas=!0,this.moveThumbWithMouse(t)},startMovingThumbWithTouch(t){this.movingFromCanvas=!0,this.moveThumbWithTouch(t)},moveThumbWithMouse(t){1===t.buttons&&!1!==this.movingFromCanvas&&this.moveThumb(t.clientX,t.clientY)},moveThumbWithTouch(t){if(!1===this.movingFromCanvas)return;const o=t.touches[0];this.moveThumb(o.clientX,o.clientY)},moveThumb(t,o){const e=this.getNewThumbPosition(t,o),r=F(this.colors.hsv);r.s=e.x,r.v=e.y,this.setColor("hsv",r)},stopMovingThumb(){this.movingFromCanvas=!1},getNewThumbPosition(t,o){const e=this.$refs.canvas.getBoundingClientRect(),r=t-e.left,s=o-e.top,n={x:k(r/e.width,0,1),y:k(1-s/e.height,0,1)};return n},applyColorUpdates(t){for(const[o,e]of H[t])this.colors[o]=e(this.colors[t]);this.hue=360*this.colors.hsl.h,this.alpha=this.colors.rgb.a,this.updateCanvas(this.colors)},getEventData(t,o){const e=L(t[o],o);return{colors:t,cssColor:e}},setColor(t,o,e){const r=o;$(this.colors[t],r)||(this.colors[t]=r,this.applyColorUpdates(t),e||this.$emit("input",this.outputColor))},addColorToHistory(t){-1===this.recentColors.indexOf(t)&&(c["a"].saveColor(t),this.recentColors.push(t),this.recentColors.length>32&&c["a"].removeColor(this.recentColors.shift()))},switchFormat(){const t=B.findIndex(t=>t===this.activeFormat),o=t===B.length-1?0:t+1;this.activeFormat=B[o]},submitColor(){this.addColorToHistory(this.outputColor)},updateHue(t){const o=F(this.colors.hsv);o.h=t/360,this.setColor("hsv",o)},updateAlpha(t){const o=F(this.colors.hsv);o.a=t,this.setColor("hsv",o)},updateHexColorValue(t){A(t)&&this.setColor("hex",t)},updateCanvas(t){this.$el&&(this.$el.style.setProperty("--vacp-hsl-h",String(t.hsl.h)),this.$el.style.setProperty("--text-color",this.getLinearShadeText(this.outputColor)),this.$el.style.setProperty("--background-color",this.outputColor),this.$refs.canvas.setAttribute("style","\n    position: relative;\n    background-color: hsl(calc(var(--vacp-hsl-h) * 360) 100% 50%); /* 1. */\n    background-image:\n      linear-gradient(to top, #000, transparent),  /* 2. */\n      linear-gradient(to right, #fff, transparent) /* 2. */\n    ;\n  "),this.$refs.thumb.setAttribute("style",`\n    box-sizing: border-box;\n    position: absolute;\n    left: ${100*t.hsv.s}%;   /* 3. */\n    bottom: ${100*t.hsv.v}%; /* 3. */\n  `))},setNull(){this.setColorFromProp("rgba(0,0,0,0)",!0),this.$emit("input",null)},setTransparent(){this.updateAlpha(0)},selectRecentColor(t,o){if(t.shiftKey){const t=this.recentColors.indexOf(o);-1!==t&&c["a"].removeColor(this.recentColors.splice(t,1)[0])}else this.setColorFromProp(o)},getLinearShadeText(t){if(!t)return;const o=Object(n["l"])(t,Object(n["b"])()),e=Object(n["f"])(o,.75*(Object(n["e"])(o)>0?-1:1));return Object(n["j"])(e)}}},J=I,U=(e("f220"),e("2877")),X=Object(U["a"])(J,r,s,!1,null,null,null);o["default"]=X.exports},"50fe":function(t,o,e){},f220:function(t,o,e){"use strict";e("50fe")}}]);