(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51a46134"],{"0b21":function(e,t,a){"use strict";a("d2eb")},d2eb:function(e,t,a){},f2f7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("dropdown",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("div",{staticClass:"timeframe-dropdown"},[t("div",{staticClass:"dropdown-item timeframe-dropdown__header",on:{click:function(e){e.stopPropagation()}}},[t("timeframe-input",{staticClass:"timeframe-dropdown__input",attrs:{placeholder:"ex 1m"},on:{input:e.onInput,submit:e.addTimeframe}}),e.typeaheadTimeframe&&e.typeaheadTimeframe.value?t("div",{staticClass:"text-nowrap text-monospace text-muted"},[e._v(" ~ "+e._s(e.typeaheadTimeframe.label)+" ")]):e._e(),e.typeaheadTimeframe?t("button",{staticClass:"btn -text",attrs:{type:"button"},on:{click:function(t){return e.addTimeframe(e.typeaheadTimeframe.value,!0)}}},[t("i",{staticClass:"icon-save"})]):t("button",{staticClass:"btn -text",attrs:{type:"button"},on:{click:e.toggleEdit}},[t("i",{class:e.editing?"icon-cross":"icon-edit"})])],1),e._l(e.groups,(function(a){return t("ToggableSection",{key:a.title,attrs:{id:"timeframe-"+a.title,title:a.title,small:""}},e._l(a.timeframes,(function(a){return t("button",{key:a.value,staticClass:"dropdown-item dropdown-item--space-between timeframe-option",attrs:{type:"button"},on:{click:function(t){return e.$store.dispatch(e.paneId+"/setTimeframe",a.value)}}},[t("span",[e._v(e._s(a.label))]),e.editing?t("i",{staticClass:"icon-trash",on:{click:function(t){return t.stopPropagation(),e.removeTimeframe(a.value)}}}):t("i",{class:[e.favoriteTimeframes[a.value]&&"icon-star-filled",!e.favoriteTimeframes[a.value]&&"icon-star"],on:{click:function(t){return t.stopPropagation(),e.toggleFavoriteTimeframe(a.value)}}})])})),0)}))],2)])},s=[],n=a("a0a8"),o=a("28f3"),r=a("ec0e"),m={name:"TimeframeDropdown",components:{TimeframeInput:n["a"],ToggableSection:r["a"]},props:{paneId:{type:String,required:!0},value:{type:HTMLButtonElement,default:null}},data:()=>({editing:!1,typeaheadTimeframe:null}),computed:{timeframes(){return this.$store.state.settings.timeframes},favoriteTimeframes(){return this.$store.state.settings.favoriteTimeframes},groups(){const e=["seconds","minutes","hours","ticks"];let t=-1;const a=60,i=60*a,s=24*i,n=this.typeaheadTimeframe;return this.timeframes.sort((e,t)=>{const a=e.value&&"t"===e.value[e.value.length-1],i=t.value&&"t"===t.value[t.value.length-1];let s=a===i?0:a?1e5:-1e5;return s+=parseFloat(e.value)-parseFloat(t.value),s}).reduce((o,r)=>{if(n&&n.value!=r.value&&-1===r.label.indexOf(n.label))return o;let m;return m=+r.value<a?0:+r.value<i?1:+r.value<=s?2:3,m>t&&(o.push({title:e[m],timeframes:[]}),t=m),o[o.length-1].timeframes.push(r),o},[])}},methods:{toggleFavoriteTimeframe(e){this.$store.commit("settings/TOGGLE_FAVORITE_TIMEFRAME",e)},addTimeframe(e,t){e&&(this.$store.commit(this.paneId+"/SET_TIMEFRAME",e),t&&!this.timeframes.find(t=>t.value==e)&&(this.$store.commit("settings/ADD_TIMEFRAME",e),this.$store.dispatch("app/showNotice",{title:`Added timeframe ${Object(o["q"])(e)} to the list !`})))},removeTimeframe(e){this.$store.commit("settings/REMOVE_TIMEFRAME",e)},toggleEdit(){this.editing=!this.editing},onInput(e){this.typeaheadTimeframe=e}}},l=m,u=(a("0b21"),a("2877")),c=Object(u["a"])(l,i,s,!1,null,"6c5eea5c",null);t["default"]=c.exports}}]);