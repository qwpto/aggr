(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73666f02"],{"1fb5":function(e,t,n){"use strict";t.byteLength=f,t.toByteArray=h,t.fromByteArray=y;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function f(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function l(e,t,n){return 3*(t+n)/4-n}function h(e){var t,n,r=c(e),a=r[0],u=r[1],s=new o(l(e,a,u)),f=0,h=u>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=255&t;return 2===u&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,s[f++]=255&t),1===u&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,s[f++]=t>>8&255,s[f++]=255&t),s}function p(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(p(r));return i.join("")}function y(e){for(var t,n=e.length,i=n%3,o=[],a=16383,u=0,s=n-i;u<s;u+=a)o.push(d(e,u,u+a>s?s:u+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=u;f>0;o=256*o+e[t+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+l>=1?h/s:h*Math.pow(2,1-l),t*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(t*s-1)*Math.pow(2,i),a+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&u,p+=d,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;e[n+p]=255&a,p+=d,a/=256,c-=8);e[n+p-d]|=128*y}},"9e91":function(e,t,n){"use strict";n.r(t),function(e,r,i){n.d(t,"exportDB",(function(){return B})),n.d(t,"importDB",(function(){return K})),n.d(t,"importInto",(function(){return L})),n.d(t,"peakImportFile",(function(){return D}));var o=n("cd3b"),a=n.n(o);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function u(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function u(e){try{s(r["throw"](e))}catch(t){o(t)}}function s(e){e.done?n(e.value):i(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(e){return function(t){return s([e,t])}}function s(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function c(e){var t=[e.schema.primKey].concat(e.schema.indexes);return t.map((function(e){return e.src})).join(",")}function f(e){for(var t={},n=0,r=e.tables;n<r.length;n++){var i=r[n];t[i.name]=i.schema}return t}function l(e,t){return new Promise((function(n,r){var i=new FileReader;i.onabort=function(e){return r(new Error("file read aborted"))},i.onerror=function(e){return r(e.target.error)},i.onload=function(e){return n(e.target.result)},"binary"===t?i.readAsArrayBuffer(e):i.readAsText(e)}))}function h(e,t){if("undefined"===typeof FileReaderSync)throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,r="binary"===t?n.readAsArrayBuffer(e):n.readAsText(e);return r}var p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function d(e,t){return t={exports:{}},e(t,t.exports),t.exports}for(var y=d((function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},r=Object.keys,i=Array.isArray,o={}.toString,a=Object.getPrototypeOf,u={}.hasOwnProperty,s=u.toString,c=["type","replaced","iterateIn","iterateUnsetNumeric"];function f(e,t){return y.isObject(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function l(e){return o.call(e).slice(8,-1)}function h(t,n){if(!t||"object"!==(void 0===t?"undefined":e(t)))return!1;var r=a(t);if(!r)return!1;var i=u.call(r,"constructor")&&r.constructor;return"function"!=typeof i?null===n:"function"==typeof i&&null!==n&&s.call(i)===s.call(n)}function p(e){return!(!e||"Object"!==l(e))&&(!a(e)||h(e,Object))}function d(t){return t&&"object"===(void 0===t?"undefined":e(t))}function y(o){var a=[],u=[],s={},l=this.types={},b=this.stringify=function(e,t,n,r){r=Object.assign({},o,r,{stringification:!0});var a=A(e,null,r);return i(a)?JSON.stringify(a[0],t,n):a.then((function(e){return JSON.stringify(e,t,n)}))};this.stringifySync=function(e,t,n,r){return b(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(e,t,n,r){return b(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var E=this.parse=function(e,t,n){return n=Object.assign({},o,n,{parse:!0}),O(JSON.parse(e,t),n)};this.parseSync=function(e,t,n){return E(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.parseAsync=function(e,t,n){return E(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.specialTypeNames=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)},this.rootTypeName=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)};var A=this.encapsulate=function(f,l,v){var b=(v=Object.assign({sync:!0},o,v)).sync,m={},w=[],E=[],A=[],O=!(v&&"cyclic"in v)||v.cyclic,P=v.encapsulateObserver,S=k("",f,O,l||{},A);function x(e){var t=Object.values(m);if(v.iterateNone)return t.length?t[0]:y.getJSONType(e);if(t.length){if(v.returnTypeNames)return[].concat(n(new Set(t)));e&&p(e)&&!e.hasOwnProperty("$types")?e.$types=m:e={$:e,$types:{$:m}}}else d(e)&&e.hasOwnProperty("$types")&&(e={$:e,$types:!0});return!v.returnTypeNames&&e}return A.length?b&&v.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function e(n,r){return Promise.all(r.map((function(e){return e[1].p}))).then((function(i){return Promise.all(i.map((function(i){var o=[],a=r.splice(0,1)[0],u=t(a,7),s=u[0],c=u[2],f=u[3],l=u[4],p=u[5],d=u[6],y=k(s,i,c,f,o,!0,d),v=h(y,_);return s&&v?y.p.then((function(t){return l[p]=t,e(n,o)})):(s?l[p]=y:n=v?y.p:y,e(n,o))})))})).then((function(){return n}))}(S,A)).then(x):!b&&v.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():v.stringification&&b?[x(S)]:b?x(S):Promise.resolve(x(S));function T(e,t,n){Object.assign(e,t);var r=c.map((function(t){var n=e[t];return delete e[t],n}));n(),c.forEach((function(t,n){e[t]=r[n]}))}function k(t,n,o,u,s,c,f){var l=void 0,d={},b=void 0===n?"undefined":e(n),A=P?function(e){var r=f||u.type||y.getJSONType(n);P(Object.assign(e||d,{keypath:t,value:n,cyclic:o,stateObj:u,promisesData:s,resolvingTypesonPromise:c,awaitingTypesonPromise:h(n,_)},void 0!==r?{type:r}:{}))}:null;if(b in{string:1,boolean:1,number:1,undefined:1})return void 0===n||"number"===b&&(isNaN(n)||n===-1/0||n===1/0)?(l=B(t,n,u,s,!1,c,A))!==n&&(d={replaced:l}):l=n,A&&A(),l;if(null===n)return A&&A(),n;if(o&&!u.iterateIn&&!u.iterateUnsetNumeric){var O=w.indexOf(n);if(!(O<0))return m[t]="#",A&&A({cyclicKeypath:E[O]}),"#"+E[O];!0===o&&(w.push(n),E.push(t))}var S=p(n),x=i(n),C=(S||x)&&(!a.length||u.replaced)||u.iterateIn?n:B(t,n,u,s,S||x,null,A),R=void 0;if(C!==n?(l=C,d={replaced:C}):x||"array"===u.iterateIn?(R=new Array(n.length),d={clone:R}):S||"object"===u.iterateIn?d={clone:R={}}:""===t&&h(n,_)?(s.push([t,n,o,u,void 0,void 0,u.type]),l=n):l=n,A&&A(),v.iterateNone)return R||l;if(!R)return l;if(u.iterateIn){var N=function(e){var r={ownKeys:n.hasOwnProperty(e)};T(u,r,(function(){var r=t+(t?".":"")+g(e),i=k(r,n[e],!!o,u,s,c);h(i,_)?s.push([r,i,!!o,u,R,e,u.type]):void 0!==i&&(R[e]=i)}))};for(var I in n)N(I);A&&A({endIterateIn:!0,end:!0})}else r(n).forEach((function(e){var r=t+(t?".":"")+g(e);T(u,{ownKeys:!0},(function(){var t=k(r,n[e],!!o,u,s,c);h(t,_)?s.push([r,t,!!o,u,R,e,u.type]):void 0!==t&&(R[e]=t)}))})),A&&A({endIterateOwn:!0,end:!0});if(u.iterateUnsetNumeric){for(var j=n.length,U=function(e){if(!(e in n)){var r=t+(t?".":"")+e;T(u,{ownKeys:!1},(function(){var t=k(r,void 0,!!o,u,s,c);h(t,_)?s.push([r,t,!!o,u,R,e,u.type]):void 0!==t&&(R[e]=t)}))}},K=0;K<j;K++)U(K);A&&A({endIterateUnsetNumeric:!0,end:!0})}return R}function B(e,t,n,r,i,o,c){for(var f=i?a:u,l=f.length;l--;){var h=f[l];if(h.test(t,n)){var p=h.type;if(s[p]){var d=m[e];m[e]=d?[p].concat(d):p}return Object.assign(n,{type:p,replaced:!0}),!b&&h.replaceAsync||h.replace?(c&&c({replacing:!0}),k(e,h[b||!h.replaceAsync?"replace":"replaceAsync"](t,n),O&&"readonly",n,r,o,p)):(c&&c({typeDetected:!0}),k(e,t,O&&"readonly",n,r,o,p))}}return t}};this.encapsulateSync=function(e,t,n){return A(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.encapsulateAsync=function(e,t,n){return A(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))};var O=this.revive=function(e,n){var a=(n=Object.assign({sync:!0},o,n)).sync,u=e&&e.$types,c=!0;if(!u)return e;if(!0===u)return e.$;u.$&&p(u.$)&&(e=e.$,u=u.$,c=!1);var l=[],d={},y=function e(n,o,a,f,y,v){if(!c||"$types"!==n){var b=u[n];if(i(o)||p(o)){var _=i(o)?new Array(o.length):{};for(r(o).forEach((function(t){var r=e(n+(n?".":"")+g(t),o[t],a||_,f,_,t);h(r,w)?_[t]=void 0:void 0!==r&&(_[t]=r)})),o=_;l.length;){var E=t(l[0],4),A=E[0],O=E[1],P=E[2],S=E[3],x=m(A,O);if(h(x,w))P[S]=void 0;else{if(void 0===x)break;P[S]=x}l.splice(0,1)}}if(!b)return o;if("#"===b){var T=m(a,o.substr(1));return void 0===T&&l.push([a,o.substr(1),y,v]),T}var k=f.sync;return[].concat(b).reduce((function(e,t){var n=s[t];if(!n)throw new Error("Unregistered type: "+t);return n[k&&n.revive?"revive":!k&&n.reviveAsync?"reviveAsync":"revive"](e,d)}),o)}}("",e,null,n);return f(y=h(y,w)?void 0:y)?a&&n.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():y:!a&&n.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():a?y:Promise.resolve(y)};this.reviveSync=function(e,t){return O(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.reviveAsync=function(e,t){return O(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))},this.register=function(e,t){return t=t||{},[].concat(e).forEach((function e(n){if(i(n))return n.map(e);n&&r(n).forEach((function(e){if("#"===e)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(y.JSON_TYPES.includes(e))throw new TypeError("Plain JSON object types are reserved as type names");var r=n[e],o=r.testPlainObjects?a:u,c=o.filter((function(t){return t.type===e}));if(c.length&&(o.splice(o.indexOf(c[0]),1),delete s[e],delete l[e]),r){if("function"==typeof r){var f=r;r={test:function(e){return e&&e.constructor===f},replace:function(e){return v({},e)},revive:function(e){return v(Object.create(f.prototype),e)}}}else i(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var h={type:e,test:r.test.bind(r)};r.replace&&(h.replace=r.replace.bind(r)),r.replaceAsync&&(h.replaceAsync=r.replaceAsync.bind(r));var p="number"==typeof t.fallback?t.fallback:t.fallback?0:1/0;if(r.testPlainObjects?a.splice(p,0,h):u.splice(p,0,h),r.revive||r.reviveAsync){var d={};r.revive&&(d.revive=r.revive.bind(r)),r.reviveAsync&&(d.reviveAsync=r.reviveAsync.bind(r)),s[e]=d}l[e]=r}}))})),this}}function v(e,t){return r(t).map((function(n){e[n]=t[n]})),e}function g(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function b(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function m(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[b(t.substr(0,n))];return void 0===r?void 0:m(r,t.substr(n+1))}return e[b(t)]}function w(){}function _(e){this.p=new Promise(e)}return _.prototype.then=function(e,t){var n=this;return new _((function(r,i){n.p.then((function(t){r(e?e(t):t)}),(function(e){n.p.catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))}))},_.prototype.catch=function(e){return this.then(null,e)},_.resolve=function(e){return new _((function(t){t(e)}))},_.reject=function(e){return new _((function(t,n){n(e)}))},["all","race"].map((function(e){_[e]=function(t){return new _((function(n,r){Promise[e](t.map((function(e){return e.p}))).then(n,r)}))}})),y.Undefined=w,y.Promise=_,y.isThenable=f,y.toStringTag=l,y.hasConstructorOf=h,y.isObject=d,y.isPlainObject=p,y.isUserObject=function e(t){if(!t||"Object"!==l(t))return!1;var n=a(t);return!n||h(t,Object)||e(n)},y.escapeKeyPathComponent=g,y.unescapeKeyPathComponent=b,y.getByKeyPath=m,y.getJSONType=function(t){return null===t?"null":i(t)?"array":void 0===t?"undefined":e(t)},y.JSON_TYPES=["null","boolean","number","string","array","object"],y}))})),v=d((function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},r=Object.keys,i=Array.isArray,o={}.toString,a=Object.getPrototypeOf,u={}.hasOwnProperty,s=u.toString,c=["type","replaced","iterateIn","iterateUnsetNumeric"];function f(e,t){return v.isObject(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function l(e){return o.call(e).slice(8,-1)}function h(t,n){if(!t||"object"!==(void 0===t?"undefined":e(t)))return!1;var r=a(t);if(!r)return!1;var i=u.call(r,"constructor")&&r.constructor;return"function"!=typeof i?null===n:"function"==typeof i&&null!==n&&s.call(i)===s.call(n)}function d(e){return!(!e||"Object"!==l(e))&&(!a(e)||h(e,Object))}function y(t){return t&&"object"===(void 0===t?"undefined":e(t))}function v(o){var a=[],u=[],s={},l=this.types={},p=this.stringify=function(e,t,n,r){r=Object.assign({},o,r,{stringification:!0});var a=A(e,null,r);return i(a)?JSON.stringify(a[0],t,n):a.then((function(e){return JSON.stringify(e,t,n)}))};this.stringifySync=function(e,t,n,r){return p(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(e,t,n,r){return p(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var m=this.parse=function(e,t,n){return n=Object.assign({},o,n,{parse:!0}),O(JSON.parse(e,t),n)};this.parseSync=function(e,t,n){return m(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.parseAsync=function(e,t,n){return m(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.specialTypeNames=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)},this.rootTypeName=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)};var A=this.encapsulate=function(f,l,p){var g=(p=Object.assign({sync:!0},o,p)).sync,m={},w=[],_=[],A=[],O=!(p&&"cyclic"in p)||p.cyclic,P=p.encapsulateObserver,S=k("",f,O,l||{},A);function x(e){var t=Object.values(m);if(p.iterateNone)return t.length?t[0]:v.getJSONType(e);if(t.length){if(p.returnTypeNames)return[].concat(n(new Set(t)));e&&d(e)&&!e.hasOwnProperty("$types")?e.$types=m:e={$:e,$types:{$:m}}}else y(e)&&e.hasOwnProperty("$types")&&(e={$:e,$types:!0});return!p.returnTypeNames&&e}return A.length?g&&p.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function e(n,r){return Promise.all(r.map((function(e){return e[1].p}))).then((function(i){return Promise.all(i.map((function(i){var o=[],a=r.splice(0,1)[0],u=t(a,7),s=u[0],c=u[2],f=u[3],l=u[4],p=u[5],d=u[6],y=k(s,i,c,f,o,!0,d),v=h(y,E);return s&&v?y.p.then((function(t){return l[p]=t,e(n,o)})):(s?l[p]=y:n=v?y.p:y,e(n,o))})))})).then((function(){return n}))}(S,A)).then(x):!g&&p.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():p.stringification&&g?[x(S)]:g?x(S):Promise.resolve(x(S));function T(e,t,n){Object.assign(e,t);var r=c.map((function(t){var n=e[t];return delete e[t],n}));n(),c.forEach((function(t,n){e[t]=r[n]}))}function k(t,n,o,u,s,c,f){var l=void 0,y={},g=void 0===n?"undefined":e(n),A=P?function(e){var r=f||u.type||v.getJSONType(n);P(Object.assign(e||y,{keypath:t,value:n,cyclic:o,stateObj:u,promisesData:s,resolvingTypesonPromise:c,awaitingTypesonPromise:h(n,E)},void 0!==r?{type:r}:{}))}:null;if(g in{string:1,boolean:1,number:1,undefined:1})return void 0===n||"number"===g&&(isNaN(n)||n===-1/0||n===1/0)?(l=B(t,n,u,s,!1,c,A))!==n&&(y={replaced:l}):l=n,A&&A(),l;if(null===n)return A&&A(),n;if(o&&!u.iterateIn&&!u.iterateUnsetNumeric){var O=w.indexOf(n);if(!(O<0))return m[t]="#",A&&A({cyclicKeypath:_[O]}),"#"+_[O];!0===o&&(w.push(n),_.push(t))}var S=d(n),x=i(n),C=(S||x)&&(!a.length||u.replaced)||u.iterateIn?n:B(t,n,u,s,S||x,null,A),R=void 0;if(C!==n?(l=C,y={replaced:C}):x||"array"===u.iterateIn?(R=new Array(n.length),y={clone:R}):S||"object"===u.iterateIn?y={clone:R={}}:""===t&&h(n,E)?(s.push([t,n,o,u,void 0,void 0,u.type]),l=n):l=n,A&&A(),p.iterateNone)return R||l;if(!R)return l;if(u.iterateIn){var N=function(e){var r={ownKeys:n.hasOwnProperty(e)};T(u,r,(function(){var r=t+(t?".":"")+b(e),i=k(r,n[e],!!o,u,s,c);h(i,E)?s.push([r,i,!!o,u,R,e,u.type]):void 0!==i&&(R[e]=i)}))};for(var I in n)N(I);A&&A({endIterateIn:!0,end:!0})}else r(n).forEach((function(e){var r=t+(t?".":"")+b(e);T(u,{ownKeys:!0},(function(){var t=k(r,n[e],!!o,u,s,c);h(t,E)?s.push([r,t,!!o,u,R,e,u.type]):void 0!==t&&(R[e]=t)}))})),A&&A({endIterateOwn:!0,end:!0});if(u.iterateUnsetNumeric){for(var j=n.length,U=function(e){if(!(e in n)){var r=t+(t?".":"")+e;T(u,{ownKeys:!1},(function(){var t=k(r,void 0,!!o,u,s,c);h(t,E)?s.push([r,t,!!o,u,R,e,u.type]):void 0!==t&&(R[e]=t)}))}},K=0;K<j;K++)U(K);A&&A({endIterateUnsetNumeric:!0,end:!0})}return R}function B(e,t,n,r,i,o,c){for(var f=i?a:u,l=f.length;l--;){var h=f[l];if(h.test(t,n)){var p=h.type;if(s[p]){var d=m[e];m[e]=d?[p].concat(d):p}return Object.assign(n,{type:p,replaced:!0}),!g&&h.replaceAsync||h.replace?(c&&c({replacing:!0}),k(e,h[g||!h.replaceAsync?"replace":"replaceAsync"](t,n),O&&"readonly",n,r,o,p)):(c&&c({typeDetected:!0}),k(e,t,O&&"readonly",n,r,o,p))}}return t}};this.encapsulateSync=function(e,t,n){return A(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.encapsulateAsync=function(e,t,n){return A(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))};var O=this.revive=function(e,n){var a=(n=Object.assign({sync:!0},o,n)).sync,u=e&&e.$types,c=!0;if(!u)return e;if(!0===u)return e.$;u.$&&d(u.$)&&(e=e.$,u=u.$,c=!1);var l=[],p={},y=function e(n,o,a,f,y,v){if(!c||"$types"!==n){var g=u[n];if(i(o)||d(o)){var m=i(o)?new Array(o.length):{};for(r(o).forEach((function(t){var r=e(n+(n?".":"")+b(t),o[t],a||m,f,m,t);h(r,_)?m[t]=void 0:void 0!==r&&(m[t]=r)})),o=m;l.length;){var E=t(l[0],4),A=E[0],O=E[1],P=E[2],S=E[3],x=w(A,O);if(h(x,_))P[S]=void 0;else{if(void 0===x)break;P[S]=x}l.splice(0,1)}}if(!g)return o;if("#"===g){var T=w(a,o.substr(1));return void 0===T&&l.push([a,o.substr(1),y,v]),T}var k=f.sync;return[].concat(g).reduce((function(e,t){var n=s[t];if(!n)throw new Error("Unregistered type: "+t);return n[k&&n.revive?"revive":!k&&n.reviveAsync?"reviveAsync":"revive"](e,p)}),o)}}("",e,null,n);return f(y=h(y,_)?void 0:y)?a&&n.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():y:!a&&n.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():a?y:Promise.resolve(y)};this.reviveSync=function(e,t){return O(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.reviveAsync=function(e,t){return O(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))},this.register=function(e,t){return t=t||{},[].concat(e).forEach((function e(n){if(i(n))return n.map(e);n&&r(n).forEach((function(e){if("#"===e)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(v.JSON_TYPES.includes(e))throw new TypeError("Plain JSON object types are reserved as type names");var r=n[e],o=r.testPlainObjects?a:u,c=o.filter((function(t){return t.type===e}));if(c.length&&(o.splice(o.indexOf(c[0]),1),delete s[e],delete l[e]),r){if("function"==typeof r){var f=r;r={test:function(e){return e&&e.constructor===f},replace:function(e){return g({},e)},revive:function(e){return g(Object.create(f.prototype),e)}}}else i(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var h={type:e,test:r.test.bind(r)};r.replace&&(h.replace=r.replace.bind(r)),r.replaceAsync&&(h.replaceAsync=r.replaceAsync.bind(r));var p="number"==typeof t.fallback?t.fallback:t.fallback?0:1/0;if(r.testPlainObjects?a.splice(p,0,h):u.splice(p,0,h),r.revive||r.reviveAsync){var d={};r.revive&&(d.revive=r.revive.bind(r)),r.reviveAsync&&(d.reviveAsync=r.reviveAsync.bind(r)),s[e]=d}l[e]=r}}))})),this}}function g(e,t){return r(t).map((function(n){e[n]=t[n]})),e}function b(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function m(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function w(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[m(t.substr(0,n))];return void 0===r?void 0:w(r,t.substr(n+1))}return e[m(t)]}function _(){}function E(e){this.p=new Promise(e)}E.prototype.then=function(e,t){var n=this;return new E((function(r,i){n.p.then((function(t){r(e?e(t):t)}),(function(e){n.p.catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))}))},E.prototype.catch=function(e){return this.then(null,e)},E.resolve=function(e){return new E((function(t){t(e)}))},E.reject=function(e){return new E((function(t,n){n(e)}))},["all","race"].map((function(e){E[e]=function(t){return new E((function(n,r){Promise[e](t.map((function(e){return e.p}))).then(n,r)}))}})),v.Undefined=_,v.Promise=E,v.isThenable=f,v.toStringTag=l,v.hasConstructorOf=h,v.isObject=y,v.isPlainObject=d,v.isUserObject=function e(t){if(!t||"Object"!==l(t))return!1;var n=a(t);return!n||h(t,Object)||e(n)},v.escapeKeyPathComponent=b,v.unescapeKeyPathComponent=m,v.getByKeyPath=w,v.getJSONType=function(t){return null===t?"null":i(t)?"array":void 0===t?"undefined":e(t)},v.JSON_TYPES=["null","boolean","number","string","array","object"];for(var A={userObject:{test:function(e,t){return v.isUserObject(e)},replace:function(e){return Object.assign({},e)},revive:function(e){return e}}},O=[[{sparseArrays:{testPlainObjects:!0,test:function(e){return Array.isArray(e)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e}}},{sparseUndefined:{test:function(e,t){return void 0===e&&!1===t.ownKeys},replace:function(e){return null},revive:function(e){}}}],{undef:{test:function(e,t){return void 0===e&&(t.ownKeys||!("ownKeys"in t))},replace:function(e){return null},revive:function(e){return new v.Undefined}}}],P={StringObject:{test:function(t){return"String"===v.toStringTag(t)&&"object"===(void 0===t?"undefined":e(t))},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(t){return"Boolean"===v.toStringTag(t)&&"object"===(void 0===t?"undefined":e(t))},replace:function(e){return Boolean(e)},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(t){return"Number"===v.toStringTag(t)&&"object"===(void 0===t?"undefined":e(t))},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},S=[{nan:{test:function(e){return"number"==typeof e&&isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return NaN}}},{infinity:{test:function(e){return e===1/0},replace:function(e){return"Infinity"},revive:function(e){return 1/0}}},{negativeInfinity:{test:function(e){return e===-1/0},replace:function(e){return"-Infinity"},revive:function(e){return-1/0}}}],x={date:{test:function(e){return"Date"===v.toStringTag(e)},replace:function(e){var t=e.getTime();return isNaN(t)?"NaN":t},revive:function(e){return"NaN"===e?new Date(NaN):new Date(e)}}},T={regexp:{test:function(e){return"RegExp"===v.toStringTag(e)},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var t=e.source,n=e.flags;return new RegExp(t,n)}}},k={map:{test:function(e){return"Map"===v.toStringTag(e)},replace:function(e){return Array.from(e.entries())},revive:function(e){return new Map(e)}}},B={set:{test:function(e){return"Set"===v.toStringTag(e)},replace:function(e){return Array.from(e.values())},revive:function(e){return new Set(e)}}},C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=new Uint8Array(256),N=0;N<C.length;N++)R[C.charCodeAt(N)]=N;var I=function(e,t,n){for(var r=new Uint8Array(e,t,n),i=r.length,o="",a=0;a<i;a+=3)o+=C[r[a]>>2],o+=C[(3&r[a])<<4|r[a+1]>>4],o+=C[(15&r[a+1])<<2|r[a+2]>>6],o+=C[63&r[a+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},j=function(e){var t=e.length,n=.75*e.length,r=0,i=void 0,o=void 0,a=void 0,u=void 0;"="===e[e.length-1]&&(n--,"="===e[e.length-2]&&n--);for(var s=new ArrayBuffer(n),c=new Uint8Array(s),f=0;f<t;f+=4)i=R[e.charCodeAt(f)],o=R[e.charCodeAt(f+1)],a=R[e.charCodeAt(f+2)],u=R[e.charCodeAt(f+3)],c[r++]=i<<2|o>>4,c[r++]=(15&o)<<4|a>>2,c[r++]=(3&a)<<6|63&u;return s},U={arraybuffer:{test:function(e){return"ArrayBuffer"===v.toStringTag(e)},replace:function(e,t){t.buffers||(t.buffers=[]);var n=t.buffers.indexOf(e);return n>-1?{index:n}:(t.buffers.push(e),I(e))},revive:function(t,n){if(n.buffers||(n.buffers=[]),"object"===(void 0===t?"undefined":e(t)))return n.buffers[t.index];var r=j(t);return n.buffers.push(r),r}}},K="undefined"==typeof self?p:self,D={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,n=K[t];n&&(D[e.toLowerCase()]={test:function(e){return v.toStringTag(e)===t},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.length;t.buffers||(t.buffers=[]);var o=t.buffers.indexOf(n);return o>-1?{index:o,byteOffset:r,length:i}:(t.buffers.push(n),{encoded:I(n),byteOffset:r,length:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var r=e.byteOffset,i=e.length,o=e.encoded,a=e.index,u=void 0;return"index"in e?u=t.buffers[a]:(u=j(o),t.buffers.push(u)),new n(u,r,i)}})}));var L={dataview:{test:function(e){return"DataView"===v.toStringTag(e)},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.byteLength;t.buffers||(t.buffers=[]);var o=t.buffers.indexOf(n);return o>-1?{index:o,byteOffset:r,byteLength:i}:(t.buffers.push(n),{encoded:I(n),byteOffset:r,byteLength:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var n=e.byteOffset,r=e.byteLength,i=e.encoded,o=e.index,a=void 0;return"index"in e?a=t.buffers[o]:(a=j(i),t.buffers.push(a)),new DataView(a,n,r)}}},F={IntlCollator:{test:function(e){return v.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return v.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return v.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}};function M(e){for(var t=new Uint16Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}var Y={file:{test:function(e){return"File"===v.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.open("GET",URL.createObjectURL(e),!1),"undefined"!=typeof TextEncoder&&t.overrideMimeType("text/plain; charset=utf-16le"),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return t.send(),{type:e.type,stringContents:t.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var t=e.name,n=e.type,r=e.stringContents,i=e.lastModified,o=M(r);return new File([o],t,{type:n,lastModified:i})},replaceAsync:function(e){return new v.Promise((function(t,n){if(e.isClosed)n(new Error("The File is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result,name:e.name,lastModified:e.lastModified})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsText(e,"UTF-16")}}))}}};return[A,O,P,S,x,T,{imagedata:{test:function(e){return"ImageData"===v.toStringTag(e)},replace:function(e){return{array:Array.from(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},{imagebitmap:{test:function(e){return"ImageBitmap"===v.toStringTag(e)||e&&e.dataset&&"ImageBitmap"===e.dataset.toStringTag},replace:function(e){var t=document.createElement("canvas");return t.getContext("2d").drawImage(e,0,0),t.toDataURL()},revive:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.onload=function(){n.drawImage(r,0,0)},r.src=e,t},reviveAsync:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.onload=function(){n.drawImage(r,0,0)},r.src=e,createImageBitmap(t)}}},Y,{file:Y.file,filelist:{test:function(e){return"FileList"===v.toStringTag(e)},replace:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.item(n);return t},revive:function(e){function t(){this._files=arguments[0],this.length=this._files.length}return t.prototype.item=function(e){return this._files[e]},t.prototype[Symbol.toStringTag]="FileList",new t(e)}}},{blob:{test:function(e){return"Blob"===v.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.open("GET",URL.createObjectURL(e),!1),"undefined"!=typeof TextEncoder&&t.overrideMimeType("text/plain; charset=utf-16le"),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return t.send(),{type:e.type,stringContents:t.responseText}},revive:function(e){var t=e.type,n=e.stringContents;return new Blob([M(n)],{type:t})},replaceAsync:function(e){return new v.Promise((function(t,n){if(e.isClosed)n(new Error("The Blob is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsText(e,"UTF-16")}}))}}}].concat("function"==typeof Map?k:[],"function"==typeof Set?B:[],"function"==typeof ArrayBuffer?U:[],"function"==typeof Uint8Array?D:[],"function"==typeof DataView?L:[],"undefined"!=typeof Intl?F:[])}))})),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=new Uint8Array(256),m=0;m<g.length;m++)b[g.charCodeAt(m)]=m;var w=function(e,t,n){null!==n&&void 0!==n||(n=e.byteLength);for(var r=new Uint8Array(e,t||0,n),i=r.length,o="",a=0;a<i;a+=3)o+=g[r[a]>>2],o+=g[(3&r[a])<<4|r[a+1]>>4],o+=g[(15&r[a+1])<<2|r[a+2]>>6],o+=g[63&r[a+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},_=function(e){var t,n,r,i,o=e.length,a=.75*e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);for(var s=new ArrayBuffer(a),c=new Uint8Array(s),f=0;f<o;f+=4)t=b[e.charCodeAt(f)],n=b[e.charCodeAt(f+1)],r=b[e.charCodeAt(f+2)],i=b[e.charCodeAt(f+3)],c[u++]=t<<2|n>>4,c[u++]=(15&n)<<4|r>>2,c[u++]=(3&r)<<6|63&i;return s},E="undefined"===typeof self?e:self,A={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,n=E[t];n&&(A[e.toLowerCase()+"2"]={test:function(e){return y.toStringTag(e)===t},replace:function(e){var t=e.buffer,n=e.byteOffset,r=e.length;return{buffer:t,byteOffset:n,length:r}},revive:function(e){var t=e.buffer,r=e.byteOffset,i=e.length;return new n(t,r,i)}})}));var O={arraybuffer:{test:function(e){return"ArrayBuffer"===y.toStringTag(e)},replace:function(e){return w(e,0,e.byteLength)},revive:function(e){var t=_(e);return t}}},P=(new y).register(v),S="FileReaderSync"in self,x=[],T=0;P.register([O,A,{blob2:{test:function(e){return"Blob"===y.toStringTag(e)},replace:function(e){if(e.isClosed)throw new Error("The Blob is closed");if(S){var t=h(e,"binary"),n=w(t,0,t.byteLength);return{type:e.type,data:n}}x.push(e);var r={type:e.type,data:{start:T,end:T+e.size}};return T+=e.size,r},finalize:function(e,t){e.data=w(t,0,t.byteLength)},revive:function(e){var t=e.type,n=e.data;return new Blob([_(n)],{type:t})}}}]),P.mustFinalize=function(){return x.length>0},P.finalize=function(e){return u(void 0,void 0,void 0,(function(){var t,n,r,i,o,u,c,f,h,p;return s(this,(function(s){switch(s.label){case 0:return[4,l(new Blob(x),"binary")];case 1:if(t=s.sent(),e)for(n=0,r=e;n<r.length;n++)if(i=r[n],i.$types)for(c in o=i.$types,u=o.$,u&&(o=o.$),o)f=o[c],h=P.types[f],h&&h.finalize&&(p=a.a.getByKeyPath(i,u?"$."+c:c),h.finalize(p,t.slice(p.start,p.end)));return x=[],[2]}}))}))};var k=2e3;function B(e,t){return u(this,void 0,void 0,(function(){function n(){return u(this,void 0,void 0,(function(){var n,u,c,p,d,y,v,g,b;return s(this,(function(m){switch(m.label){case 0:return[4,Promise.all(e.tables.map((function(e){return e.count()})))];case 1:n=m.sent(),n.forEach((function(e,t){return i[t].rowCount=e})),h.totalRows=n.reduce((function(e,t){return e+t})),u=JSON.stringify(f,void 0,o?2:void 0),c=u.lastIndexOf("]"),p=u.substring(0,c),r.push(p),d=t.filter,y=function(n){var i,u,c,f,p,y,v,g,b,m,w,_;return s(this,(function(E){switch(E.label){case 0:i=e.table(n),u=i.schema.primKey,c=!!u.keyPath,f=t.numRowsPerChunk||k,p=c?{tableName:i.name,inbound:!0,rows:[]}:{tableName:i.name,inbound:!1,rows:[]},y=JSON.stringify(p,void 0,o?2:void 0),o&&(y=y.split("\n").join("\n    ")),v=y.lastIndexOf("]"),r.push(y.substring(0,v)),g=null,b=0,m=!0,w=function(){var e,t,p,y,v,w,_,E;return s(this,(function(s){switch(s.label){case 0:return l&&a.a.ignoreTransaction((function(){return l(h)})),e=null==g?i.limit(f):i.where(":id").above(g).limit(f),[4,e.toArray()];case 1:return t=s.sent(),0===t.length?[2,"break"]:(null!=g&&b>0&&(r.push(","),o&&r.push("\n      ")),m=t.length===f,c?(p=d?t.filter((function(e){return d(n,e)})):t,y=p.map((function(e){return P.encapsulate(e)})),P.mustFinalize()?[4,a.a.waitFor(P.finalize(y))]:[3,3]):[3,4]);case 2:s.sent(),s.label=3;case 3:return E=JSON.stringify(y,void 0,o?2:void 0),o&&(E=E.split("\n").join("\n      ")),r.push(new Blob([E.substring(1,E.length-1)])),b=p.length,g=t.length>0?a.a.getByKeyPath(t[t.length-1],u.keyPath):null,[3,8];case 4:return[4,e.primaryKeys()];case 5:return v=s.sent(),w=v.map((function(e,n){return[e,t[n]]})),d&&(w=w.filter((function(e){var t=e[0],r=e[1];return d(n,r,t)}))),_=w.map((function(e){return P.encapsulate(e)})),P.mustFinalize()?[4,a.a.waitFor(P.finalize(_))]:[3,7];case 6:s.sent(),s.label=7;case 7:E=JSON.stringify(_,void 0,o?2:void 0),o&&(E=E.split("\n").join("\n      ")),r.push(new Blob([E.substring(1,E.length-1)])),b=w.length,g=v.length>0?v[v.length-1]:null,s.label=8;case 8:return h.completedRows+=t.length,[2]}}))},E.label=1;case 1:return m?[5,w()]:[3,3];case 2:return _=E.sent(),"break"===_?[3,3]:[3,1];case 3:return r.push(y.substr(v)),h.completedTables+=1,h.completedTables<h.totalTables&&r.push(","),[2]}}))},v=0,g=i,m.label=2;case 2:return v<g.length?(b=g[v].name,[5,y(b)]):[3,5];case 3:m.sent(),m.label=4;case 4:return v++,[3,2];case 5:return r.push(u.substr(c)),h.done=!0,l&&a.a.ignoreTransaction((function(){return l(h)})),[2]}}))}))}var r,i,o,f,l,h;return s(this,(function(u){switch(u.label){case 0:t=t||{},r=[],i=e.tables.map((function(e){return{name:e.name,schema:c(e),rowCount:0}})),o=t.prettyJson,f={formatName:"dexie",formatVersion:1,data:{databaseName:e.name,databaseVersion:e.verno,tables:i,data:[]}},l=t.progressCallback,h={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:e.tables.length},u.label=1;case 1:return u.trys.push([1,,6,7]),t.noTransaction?[4,n()]:[3,3];case 2:return u.sent(),[3,5];case 3:return[4,e.transaction("r",e.tables,n)];case 4:u.sent(),u.label=5;case 5:return[3,7];case 6:return P.finalize(),[7];case 7:return l&&a.a.ignoreTransaction((function(){return l(h)})),[2,new Blob(r,{type:"text/json"})]}}))}))}var C=1,R={Stream:function(){}},N=d((function(e,t){(function(e){var t="object"===typeof r&&Object({NODE_ENV:"production",VUE_APP_API_SUPPORTED_PAIRS:"",VUE_APP_API_SUPPORTED_TIMEFRAMES:"5,10,15,30,60,180,300,900,1260,1800,3600,7200,14400,21600,28800,43200,86400",VUE_APP_API_URL:"https://api.aggr.trade/",VUE_APP_BUILD_DATE:"21 jul",VUE_APP_EXCHANGES:"aggr,binance,binance_futures,binance_us,bitfinex,bitget,bitmex,bitstamp,bybit,coinbase,cryptocom,deribit,dydx,gateio,hitbtc,huobi,kraken,kucoin,mexc,okex,phemex,poloniex,uniswap",VUE_APP_PROXY_URL:"https://cors.aggr.trade/",VUE_APP_PUBLIC_PATH:"/aggr/",VUE_APP_PUBLIC_VAPID_KEY:"BNi_5_w2FU8LdTg5KxQvHYi0hXzyKMIYmYXin1nUyXEtXfyAAef0pe68v3hrQwDP00NPGPasGTrurB8Hmi3On7I",VUE_APP_VERSION:"3.3.4",BASE_URL:"/aggr/"})?Object({NODE_ENV:"production",VUE_APP_API_SUPPORTED_PAIRS:"",VUE_APP_API_SUPPORTED_TIMEFRAMES:"5,10,15,30,60,180,300,900,1260,1800,3600,7200,14400,21600,28800,43200,86400",VUE_APP_API_URL:"https://api.aggr.trade/",VUE_APP_BUILD_DATE:"21 jul",VUE_APP_EXCHANGES:"aggr,binance,binance_futures,binance_us,bitfinex,bitget,bitmex,bitstamp,bybit,coinbase,cryptocom,deribit,dydx,gateio,hitbtc,huobi,kraken,kucoin,mexc,okex,phemex,poloniex,uniswap",VUE_APP_PROXY_URL:"https://cors.aggr.trade/",VUE_APP_PUBLIC_PATH:"/aggr/",VUE_APP_PUBLIC_VAPID_KEY:"BNi_5_w2FU8LdTg5KxQvHYi0hXzyKMIYmYXin1nUyXEtXfyAAef0pe68v3hrQwDP00NPGPasGTrurB8Hmi3On7I",VUE_APP_VERSION:"3.3.4",BASE_URL:"/aggr/"}):self;e.parser=function(e){return new p(e)},e.CParser=p,e.CStream=y,e.createStream=d,e.MAX_BUFFER_LENGTH=10485760,e.DEBUG="debug"===t.CDEBUG,e.INFO="debug"===t.CDEBUG||"info"===t.CDEBUG,e.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var n,o={textNode:void 0,numberNode:""},a=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e})),u=0;for(var s in e.STATE={BEGIN:u++,VALUE:u++,OPEN_OBJECT:u++,CLOSE_OBJECT:u++,OPEN_ARRAY:u++,CLOSE_ARRAY:u++,TEXT_ESCAPE:u++,STRING:u++,BACKSLASH:u++,END:u++,OPEN_KEY:u++,CLOSE_KEY:u++,TRUE:u++,TRUE2:u++,TRUE3:u++,FALSE:u++,FALSE2:u++,FALSE3:u++,FALSE4:u++,NULL:u++,NULL2:u++,NULL3:u++,NUMBER_DECIMAL_POINT:u++,NUMBER_DIGIT:u++},e.STATE)e.STATE[e.STATE[s]]=s;u=e.STATE;const c={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};function f(t){var n=Math.max(e.MAX_BUFFER_LENGTH,10),r=0;for(var i in o){var a=void 0===t[i]?0:t[i].length;if(a>n)switch(i){case"text":closeText(t);break;default:_(t,"Max buffer length exceeded: "+i)}r=Math.max(r,a)}t.bufferCheckPosition=e.MAX_BUFFER_LENGTH-r+t.position}function l(e){for(var t in o)e[t]=o[t]}Object.create||(Object.create=function(e){function t(){this["__proto__"]=e}return t.prototype=e,new t}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e["__proto__"]}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t});var h=/[\\"\n]/g;function p(t){if(!(this instanceof p))return new p(t);var n=this;l(n),n.bufferCheckPosition=e.MAX_BUFFER_LENGTH,n.q=n.c=n.p="",n.opt=t||{},n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.state=u.BEGIN,n.stack=new Array,n.position=n.column=0,n.line=1,n.slashed=!1,n.unicodeI=0,n.unicodeS=null,n.depth=0,v(n,"onready")}p.prototype={end:function(){E(this)},write:O,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{n=R.Stream}catch(P){n=function(){}}function d(e){return new y(e)}function y(e){if(!(this instanceof y))return new y(e);this._parser=new p(e),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new i(2),3:new i(3),4:new i(4)},this.string="";var t=this;n.apply(t),this._parser.onend=function(){t.emit("end")},this._parser.onerror=function(e){t.emit("error",e),t._parser.error=null},a.forEach((function(e){Object.defineProperty(t,"on"+e,{get:function(){return t._parser["on"+e]},set:function(n){if(!n)return t.removeAllListeners(e),t._parser["on"+e]=n,n;t.on(e,n)},enumerable:!0,configurable:!1})}))}function v(t,n,r){e.INFO,t[n]&&t[n](r)}function g(e,t,n){b(e),v(e,t,n)}function b(e,t){e.textNode=w(e.opt,e.textNode),void 0!==e.textNode&&v(e,t||"onvalue",e.textNode),e.textNode=void 0}function m(e){e.numberNode&&v(e,"onvalue",parseFloat(e.numberNode)),e.numberNode=""}function w(e,t){return void 0===t||(e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," "))),t}function _(e,t){return b(e),t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c,t=new Error(t),e.error=t,v(e,"onerror",t),e}function E(e){return e.state===u.VALUE&&0===e.depth||_(e,"Unexpected end"),b(e),e.c="",e.closed=!0,v(e,"onend"),p.call(e,e.opt),e}function A(e){return e===c.carriageReturn||e===c.lineFeed||e===c.space||e===c.tab}function O(t){var n=this;if(this.error)throw this.error;if(n.closed)return _(n,"Cannot write after close. Assign an onready handler.");if(null===t)return E(n);var r=0,i=t.charCodeAt(0),o=n.p;e.DEBUG;while(i){if(o=i,n.c=i=t.charCodeAt(r++),o!==i?n.p=o:o=n.p,!i)break;switch(e.DEBUG,n.position++,i===c.lineFeed?(n.line++,n.column=0):n.column++,n.state){case u.BEGIN:i===c.openBrace?n.state=u.OPEN_OBJECT:i===c.openBracket?n.state=u.OPEN_ARRAY:A(i)||_(n,"Non-whitespace before {[.");continue;case u.OPEN_KEY:case u.OPEN_OBJECT:if(A(i))continue;if(n.state===u.OPEN_KEY)n.stack.push(u.CLOSE_KEY);else{if(i===c.closeBrace){v(n,"onopenobject"),this.depth++,v(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||u.VALUE;continue}n.stack.push(u.CLOSE_OBJECT)}i===c.doubleQuote?n.state=u.STRING:_(n,'Malformed object key should start with "');continue;case u.CLOSE_KEY:case u.CLOSE_OBJECT:if(A(i))continue;n.state,u.CLOSE_KEY,i===c.colon?(n.state===u.CLOSE_OBJECT?(n.stack.push(u.CLOSE_OBJECT),b(n,"onopenobject"),this.depth++):b(n,"onkey"),n.state=u.VALUE):i===c.closeBrace?(g(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||u.VALUE):i===c.comma?(n.state===u.CLOSE_OBJECT&&n.stack.push(u.CLOSE_OBJECT),b(n),n.state=u.OPEN_KEY):_(n,"Bad object");continue;case u.OPEN_ARRAY:case u.VALUE:if(A(i))continue;if(n.state===u.OPEN_ARRAY){if(v(n,"onopenarray"),this.depth++,n.state=u.VALUE,i===c.closeBracket){v(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||u.VALUE;continue}n.stack.push(u.CLOSE_ARRAY)}i===c.doubleQuote?n.state=u.STRING:i===c.openBrace?n.state=u.OPEN_OBJECT:i===c.openBracket?n.state=u.OPEN_ARRAY:i===c.t?n.state=u.TRUE:i===c.f?n.state=u.FALSE:i===c.n?n.state=u.NULL:i===c.minus?n.numberNode+="-":c._0<=i&&i<=c._9?(n.numberNode+=String.fromCharCode(i),n.state=u.NUMBER_DIGIT):_(n,"Bad value");continue;case u.CLOSE_ARRAY:if(i===c.comma)n.stack.push(u.CLOSE_ARRAY),b(n,"onvalue"),n.state=u.VALUE;else if(i===c.closeBracket)g(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||u.VALUE;else{if(A(i))continue;_(n,"Bad array")}continue;case u.STRING:void 0===n.textNode&&(n.textNode="");var a=r-1,s=n.slashed,l=n.unicodeI;e:while(1){e.DEBUG;while(l>0)if(n.unicodeS+=String.fromCharCode(i),i=t.charCodeAt(r++),n.position++,4===l?(n.textNode+=String.fromCharCode(parseInt(n.unicodeS,16)),l=0,a=r-1):l++,!i)break e;if(i===c.doubleQuote&&!s){n.state=n.stack.pop()||u.VALUE,n.textNode+=t.substring(a,r-1),n.position+=r-1-a;break}if(i===c.backslash&&!s&&(s=!0,n.textNode+=t.substring(a,r-1),n.position+=r-1-a,i=t.charCodeAt(r++),n.position++,!i))break;if(s){if(s=!1,i===c.n?n.textNode+="\n":i===c.r?n.textNode+="\r":i===c.t?n.textNode+="\t":i===c.f?n.textNode+="\f":i===c.b?n.textNode+="\b":i===c.u?(l=1,n.unicodeS=""):n.textNode+=String.fromCharCode(i),i=t.charCodeAt(r++),n.position++,a=r-1,i)continue;break}h.lastIndex=r;var p=h.exec(t);if(null===p){r=t.length+1,n.textNode+=t.substring(a,r-1),n.position+=r-1-a;break}if(r=p.index+1,i=t.charCodeAt(p.index),!i){n.textNode+=t.substring(a,r-1),n.position+=r-1-a;break}}n.slashed=s,n.unicodeI=l;continue;case u.TRUE:i===c.r?n.state=u.TRUE2:_(n,"Invalid true started with t"+i);continue;case u.TRUE2:i===c.u?n.state=u.TRUE3:_(n,"Invalid true started with tr"+i);continue;case u.TRUE3:i===c.e?(v(n,"onvalue",!0),n.state=n.stack.pop()||u.VALUE):_(n,"Invalid true started with tru"+i);continue;case u.FALSE:i===c.a?n.state=u.FALSE2:_(n,"Invalid false started with f"+i);continue;case u.FALSE2:i===c.l?n.state=u.FALSE3:_(n,"Invalid false started with fa"+i);continue;case u.FALSE3:i===c.s?n.state=u.FALSE4:_(n,"Invalid false started with fal"+i);continue;case u.FALSE4:i===c.e?(v(n,"onvalue",!1),n.state=n.stack.pop()||u.VALUE):_(n,"Invalid false started with fals"+i);continue;case u.NULL:i===c.u?n.state=u.NULL2:_(n,"Invalid null started with n"+i);continue;case u.NULL2:i===c.l?n.state=u.NULL3:_(n,"Invalid null started with nu"+i);continue;case u.NULL3:i===c.l?(v(n,"onvalue",null),n.state=n.stack.pop()||u.VALUE):_(n,"Invalid null started with nul"+i);continue;case u.NUMBER_DECIMAL_POINT:i===c.period?(n.numberNode+=".",n.state=u.NUMBER_DIGIT):_(n,"Leading zero not followed by .");continue;case u.NUMBER_DIGIT:c._0<=i&&i<=c._9?n.numberNode+=String.fromCharCode(i):i===c.period?(-1!==n.numberNode.indexOf(".")&&_(n,"Invalid number has two dots"),n.numberNode+="."):i===c.e||i===c.E?(-1===n.numberNode.indexOf("e")&&-1===n.numberNode.indexOf("E")||_(n,"Invalid number has two exponential"),n.numberNode+="e"):i===c.plus||i===c.minus?(o!==c.e&&o!==c.E&&_(n,"Invalid symbol in number"),n.numberNode+=String.fromCharCode(i)):(m(n),r--,n.state=n.stack.pop()||u.VALUE);continue;default:_(n,"Unknown state: "+n.state)}}return n.position>=n.bufferCheckPosition&&f(n),n}y.prototype=Object.create(n.prototype,{constructor:{value:y}}),y.prototype.write=function(e){e=new i(e);for(var t=0;t<e.length;t++){var n=e[t];if(this.bytes_remaining>0){for(var r=0;r<this.bytes_remaining;r++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+r]=e[r];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,t=t+r-1,this._parser.write(this.string),this.emit("data",this.string)}else if(0===this.bytes_remaining&&n>=128){if(n>=194&&n<=223&&(this.bytes_in_sequence=2),n>=224&&n<=239&&(this.bytes_in_sequence=3),n>=240&&n<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+t>e.length){for(var o=0;o<=e.length-1-t;o++)this.temp_buffs[this.bytes_in_sequence][o]=e[t+o];return this.bytes_remaining=t+this.bytes_in_sequence-e.length,!0}this.string=e.slice(t,t+this.bytes_in_sequence).toString(),t=t+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string)}else{for(var a=t;a<e.length;a++)if(e[a]>=128)break;this.string=e.slice(t,a).toString(),this._parser.write(this.string),this.emit("data",this.string),t=a-1}}},y.prototype.end=function(e){return e&&e.length&&this._parser.write(e.toString()),this._parser.end(),!0},y.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===a.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)},y.prototype.destroy=function(){l(this._parser),this.emit("close")}})(t)}));function I(e){var t=0,n=j(!0),r={pullAsync:function(i){return u(this,void 0,void 0,(function(){var o,a,u;return s(this,(function(s){switch(s.label){case 0:return o=e.slice(t,t+i),t+=i,[4,l(o,"text")];case 1:return a=s.sent(),u=n.write(a),r.result=u||{},[2,u]}}))}))},pullSync:function(i){var o=e.slice(t,t+i);t+=i;var a=h(o,"text"),u=n.write(a);return r.result=u||{},u},done:function(){return n.done()},eof:function(){return t>=e.size},result:{}};return r}function j(e){var t,n,r,i=N.parser(),o=0,a=[],u=!1,s=!1;return i.onopenobject=function(i){var u={incomplete:!0};t||(t=u),n&&(a.push([r,n,s]),e&&(s?n.push(u):n[r]=u)),n=u,r=i,s=!1,++o},i.onkey=function(e){return r=e},i.onvalue=function(e){return s?n.push(e):n[r]=e},i.oncloseobject=function(){var t;if(delete n.incomplete,r=null,0===--o)u=!0;else{var i=n;t=a.pop(),r=t[0],n=t[1],s=t[2],e||(s?n.push(i):n[r]=i)}},i.onopenarray=function(){var i=[];i.incomplete=!0,t||(t=i),n&&(a.push([r,n,s]),e&&(s?n.push(i):n[r]=i)),n=i,s=!0,r=null,++o},i.onclosearray=function(){var t;if(delete n.incomplete,r=null,0===--o)u=!0;else{var i=n;t=a.pop(),r=t[0],n=t[1],s=t[2],e||(s?n.push(i):n[r]=i)}},{write:function(e){return i.write(e),t},done:function(){return u}}}var U=1024;function K(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(u){switch(u.label){case 0:return t=t||{},n=t.chunkSizeBytes||1024*U,[4,F(e,n)];case 1:return r=u.sent(),i=r.result.data,o=new a.a(i.databaseName),o.version(i.databaseVersion).stores(f(i)),[4,L(o,r,t)];case 2:return u.sent(),[2,o]}}))}))}function D(e){return u(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:t=I(e),n.label=1;case 1:return t.eof()?[3,3]:[4,t.pullAsync(5120)];case 2:return n.sent(),t.result.data&&t.result.data.data?(delete t.result.data.data,[3,3]):[3,1];case 3:return[2,t.result]}}))}))}function L(e,t,n){return u(this,void 0,void 0,(function(){function r(){return u(this,void 0,void 0,(function(){var t,r,u,c,d;return s(this,(function(y){switch(y.label){case 0:t=function(t){var r,i,o,u,c,f,d,y,v,g,b,m;return s(this,(function(s){switch(s.label){case 0:if(!t.rows)return[2,"break"];if(!t.rows.incomplete&&0===t.rows.length)return[2,"continue"];if(h&&a.a.ignoreTransaction((function(){return h(p)})),r=t.tableName,i=e.table(r),o=l.tables.filter((function(e){return e.name===r}))[0].schema,!i){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+t.tableName+" is missing in installed database")}if(!n.acceptChangedPrimaryKey&&o.split(",")[0]!=i.schema.primKey.src)throw new Error("Primary key differs for table "+t.tableName+". ");for(u=t.rows,c=[],f=0;f<u.length;f++){if(d=u[f],d.incomplete)break;c.push(P.revive(d))}return y=n.filter,v=y?t.inbound?c.filter((function(e){return y(r,e)})):c.filter((function(e){var t=e[0],n=e[1];return y(r,n,t)})):c,g=t.inbound?[void 0,v]:[v.map((function(e){return e[0]})),c.map((function(e){return e[1]}))],b=g[0],m=g[1],n.overwriteValues?[4,i.bulkPut(m,b)]:[3,2];case 1:return s.sent(),[3,4];case 2:return[4,i.bulkAdd(m,b)];case 3:s.sent(),s.label=4;case 4:return p.completedRows+=c.length,c.incomplete||(p.completedTables+=1),u.splice(0,c.length),[2]}}))},r=0,u=l.data,y.label=1;case 1:return r<u.length?(c=u[r],[5,t(c)]):[3,4];case 2:if(d=y.sent(),"break"===d)return[3,4];y.label=3;case 3:return r++,[3,1];case 4:while(l.data.length>0&&l.data[0].rows&&!l.data[0].rows.incomplete)l.data.splice(0,1);return o.done()||o.eof()?[3,8]:f?(o.pullSync(i),[3,7]):[3,5];case 5:return[4,a.a.waitFor(o.pullAsync(i))];case 6:y.sent(),y.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}}))}))}var i,o,c,f,l,h,p,d,y,v;return s(this,(function(u){switch(u.label){case 0:return n=n||{},i=n.chunkSizeBytes||1024*U,[4,F(t,i)];case 1:if(o=u.sent(),c=o.result,f="FileReaderSync"in self,l=c.data,!n.acceptNameDiff&&e.name!==l.databaseName)throw new Error("Name differs. Current database name is "+e.name+" but export is "+l.databaseName);if(!n.acceptVersionDiff&&e.verno!==l.databaseVersion)throw new Error("Database version differs. Current database is in version "+e.verno+" but export is "+l.databaseVersion);if(h=n.progressCallback,p={done:!1,completedRows:0,completedTables:0,totalRows:l.tables.reduce((function(e,t){return e+t.rowCount}),0),totalTables:l.tables.length},h&&a.a.ignoreTransaction((function(){return h(p)})),!n.clearTablesBeforeImport)return[3,5];d=0,y=e.tables,u.label=2;case 2:return d<y.length?(v=y[d],[4,v.clear()]):[3,5];case 3:u.sent(),u.label=4;case 4:return d++,[3,2];case 5:return n.noTransaction?[4,r()]:[3,7];case 6:return u.sent(),[3,9];case 7:return[4,e.transaction("rw",e.tables,r)];case 8:u.sent(),u.label=9;case 9:return p.done=!0,h&&a.a.ignoreTransaction((function(){return h(p)})),[2]}}))}))}function F(e,t){return u(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:n="slice"in e?I(e):e,i.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(t)];case 2:return i.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(r=n.result,!r||"dexie"!=r.formatName)throw new Error("Given file is not a dexie export");if(r.formatVersion>C)throw new Error("Format version "+r.formatVersion+" not supported");if(!r.data)throw new Error("No data in export file");if(!r.data.databaseName)throw new Error("Missing databaseName in export file");if(!r.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!r.data.tables)throw new Error("Missing tables in export file");return[2,n]}}))}))}a.a.prototype.export=function(e){return B(this,e)},a.a.prototype.import=function(e,t){return L(this,e,t)},a.a.import=function(e,t){return K(e,t)};var M=function(){throw new Error("This addon extends Dexie.prototype globally and does not have be included in Dexie constructor's addons options.")};t["default"]=M}.call(this,n("c8ba"),n("4362"),n("b639").Buffer)},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(u()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return f(this,e,t,n)}function f(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,r):"string"===typeof t?d(e,t,n):g(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}function p(e,t){if(l(t),e=s(e,t<0?0:0|b(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(t,n);e=s(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function y(e,t){var n=t.length<0?0:0|b(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function v(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=y(e,t),e}function g(e,t){if(c.isBuffer(t)){var n=0|b(t.length);return e=s(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?s(e,0):y(e,t);if("Buffer"===t.type&&o(t.data))return y(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(e){if(e>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),c.alloc(+e)}function w(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return K(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return U(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function A(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:O(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):O(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function O(e,t,n,r,i){var o,a=1,u=e.length,s=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=n;o<u;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var l=!0,h=0;h<s;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return-1}function P(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function S(e,t,n,r){return ee(H(t,e.length-n),e,n,r)}function x(e,t,n,r){return ee(W(t),e,n,r)}function T(e,t,n,r){return x(e,t,n,r)}function k(e,t,n,r){return ee(Z(t),e,n,r)}function B(e,t,n,r){return ee(Q(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,a,u,s,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:o=e[i+1],128===(192&o)&&(s=(31&c)<<6|63&o,s>127&&(f=s));break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a,s>2047&&(s<55296||s>57343)&&(f=s));break;case 4:o=e[i+1],a=e[i+2],u=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u,s>65535&&s<1114112&&(f=s))}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return I(r)}t.Buffer=c,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=u(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return f(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return h(null,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):_.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,u=Math.min(o,a),s=this.slice(r,i),f=e.slice(t,n),l=0;l<u;++l)if(s[l]!==f[l]){o=s[l],a=f[l];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return A(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return A(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return P(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function I(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function U(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function K(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=X(e[o]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Y(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function q(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,o){return o||q(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,o){return o||q(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var o=1,a=0;this[t]=255&e;while(++a<n&&(o*=256))this[t+a]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var o=n-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Y(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,a=1,u=0;this[t]=255&e;while(++o<n&&(a*=256))e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,a=1,u=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Y(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:H(new c(e,r).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function J(e){if(e=$(e).replace(G,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function $(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function X(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q(e,t){for(var n,r,i,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Z(e){return r.toByteArray(J(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},cd3b:function(e,t,n){(function(t){(function(t,n){e.exports=n()})(0,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:t,i=Object.keys,o=Array.isArray;function a(e,t){return"object"!==typeof t||i(t).forEach((function(n){e[n]=t[n]})),e}"undefined"===typeof Promise||r.Promise||(r.Promise=Promise);var u=Object.getPrototypeOf,s={}.hasOwnProperty;function c(e,t){return s.call(e,t)}function f(e,t){"function"===typeof t&&(t=t(u(e))),("undefined"===typeof Reflect?i:Reflect.ownKeys)(t).forEach((function(n){h(e,n,t[n])}))}var l=Object.defineProperty;function h(e,t,n,r){l(e,t,a(n&&c(n,"get")&&"function"===typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:f.bind(null,e.prototype)}}}}var d=Object.getOwnPropertyDescriptor;function y(e,t){var n,r=d(e,t);return r||(n=u(e))&&y(n,t)}var v=[].slice;function g(e,t,n){return v.call(e,t,n)}function b(e,t){return t(e)}function m(e){if(!e)throw new Error("Assertion Failed")}function w(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function _(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function E(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function A(e,t){if(c(e,t))return e[t];if(!t)return e;if("string"!==typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=A(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:A(u,t.substr(a+1))}}function O(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!==typeof t&&"length"in t){m("string"!==typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)O(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var u=t.substr(0,a),s=t.substr(a+1);if(""===s)void 0===n?o(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=n;else{var f=e[u];f&&c(e,u)||(f=e[u]={}),O(f,s,n)}}else void 0===n?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function P(e,t){"string"===typeof t?O(e,t,void 0):"length"in t&&[].map.call(t,(function(t){O(e,t,void 0)}))}function S(e){var t={};for(var n in e)c(e,n)&&(t[n]=e[n]);return t}var x=[].concat;function T(e){return x.apply([],e)}var k="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(T([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return r[e]})),B=k.map((function(e){return r[e]}));_(k,(function(e){return[e,!0]}));var C=null;function R(e){C="undefined"!==typeof WeakMap&&new WeakMap;var t=N(e);return C=null,t}function N(e){if(!e||"object"!==typeof e)return e;var t=C&&C.get(e);if(t)return t;if(o(e)){t=[],C&&C.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(N(e[n]))}else if(B.indexOf(e.constructor)>=0)t=e;else{var i=u(e);for(var a in t=i===Object.prototype?{}:Object.create(i),C&&C.set(e,t),e)c(e,a)&&(t[a]=N(e[a]))}return t}var I={}.toString;function j(e){return I.call(e).slice(8,-1)}var U="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator",K="symbol"===typeof U?function(e){var t;return null!=e&&(t=e[U])&&t.apply(e)}:function(){return null},D={};function L(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===D&&"string"===typeof e)return[e];if(i=K(e)){n=[];while(r=i.next(),!r.done)n.push(r.value);return n}if(null==e)return[e];if(t=e.length,"number"===typeof t){n=new Array(t);while(t--)n[t]=e[t];return n}return[e]}t=arguments.length,n=new Array(t);while(t--)n[t]=arguments[t];return n}var F="undefined"!==typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},M="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Y(e,t){M=e,q=t}var q=function(){return!0},V=!new Error("").stack;function z(){if(V)try{throw z.arguments,new Error}catch(e){return e}return new Error}function G(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(q).map((function(e){return"\n"+e})).join("")):""}var J=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],$=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],X=J.concat($),H={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W(e,t){this._e=z(),this.name=e,this.message=t}function Q(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function Z(e,t,n,r){this._e=z(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Q(e,t)}function ee(e,t){this._e=z(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=Q(e,t)}p(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+G(this._e,2))}},toString:function(){return this.name+": "+this.message}}),p(Z).from(W),p(ee).from(W);var te=X.reduce((function(e,t){return e[t]=t+"Error",e}),{}),ne=W,re=X.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=z(),this.name=n,e?"string"===typeof e?(this.message=e+(r?"\n "+r:""),this.inner=r||null):"object"===typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=H[t]||n,this.inner=null)}return p(r).from(ne),e[t]=r,e}),{});re.Syntax=SyntaxError,re.Type=TypeError,re.Range=RangeError;var ie=$.reduce((function(e,t){return e[t+"Error"]=re[t],e}),{});function oe(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ie[e.name])return e;var n=new ie[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n}var ae=X.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=re[t]),e}),{});function ue(){}function se(e){return e}function ce(e,t){return null==e||e===se?t:function(n){return t(e(n))}}function fe(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function le(e,t){return e===ue?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?fe(r,this.onsuccess):r),i&&(this.onerror=this.onerror?fe(i,this.onerror):i),void 0!==o?o:n}}function he(e,t){return e===ue?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?fe(n,this.onsuccess):n),r&&(this.onerror=this.onerror?fe(r,this.onerror):r)}}function pe(e,t){return e===ue?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var u=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?fe(i,this.onsuccess):i),o&&(this.onerror=this.onerror?fe(o,this.onerror):o),void 0===r?void 0===u?void 0:u:a(r,u)}}function de(e,t){return e===ue?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ye(e,t){return e===ue?t:function(){var n=e.apply(this,arguments);if(n&&"function"===typeof n.then){var r=this,i=arguments.length,o=new Array(i);while(i--)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}ae.ModifyError=Z,ae.DexieError=W,ae.BulkError=ee;var ve={},ge=100,be=20,me=100,we="undefined"===typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"===typeof crypto||!crypto.subtle)return[e,u(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,u(t),e]}(),_e=we[0],Ee=we[1],Ae=we[2],Oe=Ee&&Ee.then,Pe=_e&&_e.constructor,Se=!!Ae,xe=!1,Te=Ae?function(){Ae.then(We)}:r.setImmediate?setImmediate.bind(null,We):r.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){We(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(We,0)},ke=function(e,t){De.push([e,t]),Ce&&(Te(),Ce=!1)},Be=!0,Ce=!0,Re=[],Ne=[],Ie=null,je=se,Ue={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Pt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Pt(e[0],e[1])}catch(t){}}))}},Ke=Ue,De=[],Le=0,Fe=[];function Me(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ue,this._lib=!1;var t=this._PSD=Ke;if(M&&(this._stackHolder=z(),this._prev=null,this._numPrev=0),"function"!==typeof e){if(e!==ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ze(this,this._value))}this._state=null,this._value=null,++t.ref,Ve(this,e)}var Ye={get:function(){var e=Ke,t=ft;function n(n,r){var i=this,o=!e.global&&(e!==Ke||t!==ft),a=o&&!dt(),u=new Me((function(t,u){Je(i,new qe(Et(n,e,o,a),Et(r,e,o,a),t,u,e))}));return M&&He(u,this),u}return n.prototype=ve,n},set:function(e){h(this,"then",e&&e.prototype===ve?Ye:{get:function(){return e},set:Ye.set})}};function qe(e,t,n,r,i){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ve(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Qe();t&&"function"===typeof t.then?Ve(e,(function(e,n){t instanceof Me?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ge(e)),n&&Ze()}}),ze.bind(null,e))}catch(n){ze(e,n)}}function ze(e,t){if(Ne.push(t),null===e._state){var n=e._lib&&Qe();t=je(t),e._state=!1,e._value=t,M&&null!==t&&"object"===typeof t&&!t._promise&&E((function(){var n=y(t,"stack");t._promise=e,h(t,"stack",{get:function(){return xe?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),nt(e),Ge(e),n&&Ze()}}function Ge(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Je(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Le&&(++Le,ke((function(){0===--Le&&et()}),[]))}function Je(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Le,ke($e,[n,e,t])}else e._listeners.push(t)}function $e(e,t,n){try{Ie=t;var r,i=t._value;t._state?r=e(i):(Ne.length&&(Ne=[]),r=e(i),-1===Ne.indexOf(i)&&rt(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Ie=null,0===--Le&&et(),--n.psd.ref||n.psd.finalize()}}function Xe(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,a=e._value;null!=a?(i=a.name||"Error",o=a.message||a,r=G(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+r)}return M&&(r=G(e._stackHolder,2),r&&-1===t.indexOf(r)&&t.push(r),e._prev&&Xe(e._prev,t,n)),t}function He(e,t){var n=t?t._numPrev+1:0;n<ge&&(e._prev=t,e._numPrev=n)}function We(){Qe()&&Ze()}function Qe(){var e=Be;return Be=!1,Ce=!1,e}function Ze(){var e,t,n;do{while(De.length>0)for(e=De,De=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(De.length>0);Be=!0,Ce=!0}function et(){var e=Re;Re=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));var t=Fe.slice(0),n=t.length;while(n)t[--n]()}function tt(e){function t(){e(),Fe.splice(Fe.indexOf(t),1)}Fe.push(t),++Le,ke((function(){0===--Le&&et()}),[])}function nt(e){Re.some((function(t){return t._value===e._value}))||Re.push(e)}function rt(e){var t=Re.length;while(t)if(Re[--t]._value===e._value)return void Re.splice(t,1)}function it(e){return new Me(ve,!1,e)}function ot(e,t){var n=Ke;return function(){var r=Qe(),i=Ke;try{return bt(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{bt(i,!1),r&&Ze()}}}f(Me.prototype,{then:Ye,_then:function(e,t){Je(this,new qe(null,null,e,t,Ke))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"===typeof t?this.then(null,(function(e){return e instanceof t?n(e):it(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):it(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),it(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{xe=!0;var e=Xe(this,[],be),t=e.join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{xe=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Me((function(r,i){var o=setTimeout((function(){return i(new re.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!==typeof Symbol&&Symbol.toStringTag&&h(Me.prototype,Symbol.toStringTag,"Dexie.Promise"),Ue.env=mt(),f(Me,{all:function(){var e=L.apply(null,arguments).map(yt);return new Me((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Me.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Me)return e;if(e&&"function"===typeof e.then)return new Me((function(t,n){e.then(t,n)}));var t=new Me(ve,!0,e);return He(t,Ie),t},reject:it,race:function(){var e=L.apply(null,arguments).map(yt);return new Me((function(t,n){e.map((function(e){return Me.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Ke},set:function(e){return Ke=e}},totalEchoes:{get:function(){return ft}},newPSD:ht,usePSD:wt,scheduler:{get:function(){return ke},set:function(e){ke=e}},rejectionMapper:{get:function(){return je},set:function(e){je=e}},follow:function(e,t){return new Me((function(n,r){return ht((function(t,n){var r=Ke;r.unhandleds=[],r.onunhandled=n,r.finalize=fe((function(){var e=this;tt((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),Pe&&(Pe.allSettled&&h(Me,"allSettled",(function(){var e=L.apply(null,arguments).map(yt);return new Me((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return Me.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Pe.any&&"undefined"!==typeof AggregateError&&h(Me,"any",(function(){var e=L.apply(null,arguments).map(yt);return new Me((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,o){return Me.resolve(e).then((function(e){return t(e)}),(function(e){i[o]=e,--r||n(new AggregateError(i))}))}))}))})));var at={awaits:0,echoes:0,id:0},ut=0,st=[],ct=0,ft=0,lt=0;function ht(e,t,n,r){var i=Ke,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++lt;var u=Ue.env;o.env=Se?{Promise:Me,PromiseProp:{value:Me,configurable:!0,writable:!0},all:Me.all,race:Me.race,allSettled:Me.allSettled,any:Me.any,resolve:Me.resolve,reject:Me.reject,nthen:At(u.nthen,o),gthen:At(u.gthen,o)}:{},t&&a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=wt(o,e,n,r);return 0===o.ref&&o.finalize(),s}function pt(){return at.id||(at.id=++ut),++at.awaits,at.echoes+=me,at.id}function dt(){return!!at.awaits&&(0===--at.awaits&&(at.id=0),at.echoes=at.awaits*me,!0)}function yt(e){return at.echoes&&e&&e.constructor===Pe?(pt(),e.then((function(e){return dt(),e}),(function(e){return dt(),St(e)}))):e}function vt(e){++ft,at.echoes&&0!==--at.echoes||(at.echoes=at.id=0),st.push(Ke),bt(e,!0)}function gt(){var e=st[st.length-1];st.pop(),bt(e,!1)}function bt(e,t){var n=Ke;if((t?!at.echoes||ct++&&e===Ke:!ct||--ct&&e===Ke)||_t(t?vt.bind(null,e):gt),e!==Ke&&(Ke=e,n===Ue&&(Ue.env=mt()),Se)){var i=Ue.env.Promise,o=e.env;Ee.then=o.nthen,i.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(r,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any&&(i.any=o.any))}}function mt(){var e=r.Promise;return Se?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ee.then,gthen:e.prototype.then}:{}}function wt(e,t,n,r,i){var o=Ke;try{return bt(e,!0),t(n,r,i)}finally{bt(o,!1)}}function _t(e){Oe.call(_e,e)}function Et(e,t,n,r){return"function"!==typeof e?e:function(){var i=Ke;n&&pt(),bt(t,!0);try{return e.apply(this,arguments)}finally{bt(i,!1),r&&_t(dt)}}}function At(e,t){return function(n,r){return e.call(this,Et(n,t),Et(r,t))}}-1===(""+Oe).indexOf("[native code]")&&(pt=dt=ue);var Ot="unhandledrejection";function Pt(e,t){var n;try{n=t.onuncatched(e)}catch(u){}if(!1!==n)try{var i,o={promise:t,reason:e};if(r.document&&document.createEvent?(i=document.createEvent("Event"),i.initEvent(Ot,!0,!0),a(i,o)):r.CustomEvent&&(i=new CustomEvent(Ot,{detail:o}),a(i,o)),i&&r.dispatchEvent&&(dispatchEvent(i),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(i)}catch(s){}M&&i&&i.defaultPrevented}catch(u){}}var St=Me.reject;function xt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Ke.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===te.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(e._close(),e.open().then((function(){return xt(e,t,n,r)}))):St(o)}return i._promise(t,(function(e,t){return ht((function(){return Ke.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(e._state.openComplete)return St(new re.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return St(new re.DatabaseClosed);e.open().catch(ue)}return e._state.dbReadyPromise.then((function(){return xt(e,t,n,r)}))}var Tt="3.2.4",kt=String.fromCharCode(65535),Bt=-1/0,Ct="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Rt="String expected.",Nt=[],It="undefined"!==typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),jt=It,Ut=It,Kt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Dt="__dbnames",Lt="readonly",Ft="readwrite";function Mt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Yt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qt(e){return"string"!==typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&(t=R(t),delete t[e]),t}}var Vt=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||Ke.trans,i=this.name;function o(e,n,r){if(!r.schema[i])throw new re.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var a=Qe();try{return r&&r.db===this.db?r===Ke.trans?r._promise(e,o,n):ht((function(){return r._promise(e,o,n)}),{trans:r,transless:Ke.transless||Ke}):xt(this.db,e,[this.name],o)}finally{a&&Ze()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"===typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==kt)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));var r=this.schema.idxByName,a=this.db._deps.indexedDB;function u(e,t){try{return 0===a.cmp(e,t)}catch(n){return!1}}var s=t.reduce((function(t,n){var i=t[0],a=t[1],s=r[n],c=e[n];return[i||s,i||!s?Mt(a,s&&s.multi?function(e){var t=A(e,n);return o(t)&&t.some((function(e){return u(c,e)}))}:function(e){return u(c,A(e,n))}):a]}),[null,null]),c=s[0],f=s[1];return c?this.where(c.name).equals(e[c.keyPath]).filter(f):n?this.filter(f):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(c(t,r))try{n[r]=t[r]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){function e(e){a(this,e)}return this.mapToClass(e)},e.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=qt(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?Me.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{O(e,o,t)}catch(n){}return t}))},e.prototype.update=function(e,t){if("object"!==typeof e||o(e))return this.where(":id").equals(e).modify(t);var n=A(e,this.schema.primKey.keyPath);if(void 0===n)return St(new re.InvalidArgument("Given object does not contain its primary key"));try{"function"!==typeof t?i(t).forEach((function(n){O(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(Sr){}return this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=qt(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Me.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{O(e,o,t)}catch(n){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Me.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Yt})})).then((function(e){return e.numFailures?Me.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0;n=n||(i?void 0:t);var o=n?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&i)throw new re.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&a?e.map(qt(u)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:c,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,a=e.failures,u=o?n:i;if(0===t)return u;throw new ee(r.name+".bulkAdd(): "+t+" of "+s+" operations failed",a)}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0;n=n||(i?void 0:t);var o=n?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&i)throw new re.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&a?e.map(qt(u)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:c,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,a=e.failures,u=o?n:i;if(0===t)return u;throw new ee(r.name+".bulkPut(): "+t+" of "+s+" operations failed",a)}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult,o=e.failures;if(0===r)return i;throw new ee(t.name+".bulkDelete(): "+r+" of "+n+" operations failed",o)}))},e}();function zt(e){var t={},n=function(n,r){if(r){var i=arguments.length,o=new Array(i-1);while(--i)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"===typeof n)return t[n]};n.addEventType=u;for(var r=1,a=arguments.length;r<a;++r)u(arguments[r]);return n;function u(e,r,i){if("object"===typeof e)return s(e);r||(r=de),i||(i=ue);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function s(e){i(e).forEach((function(t){var n=e[t];if(o(n))u(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new re.InvalidArgument("Invalid event config");var r=u(t,se,(function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];r.subscribers.forEach((function(e){w((function(){e.apply(null,t)}))}))}))}}))}}function Gt(e,t){return p(t).from({prototype:e}),t}function Jt(e){return Gt(Vt.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:zt(null,{creating:[le,ue],reading:[ce,se],updating:[pe,ue],deleting:[he,ue]})}))}function $t(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Xt(e,t){e.filter=Mt(e.filter,t)}function Ht(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Mt(r(),t())}:t,e.justLimit=n&&!r}function Wt(e,t){e.isMatch=Mt(e.isMatch,t)}function Qt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new re.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Zt(e,t,n){var r=Qt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function en(e,t,n,r){var i=e.replayFilter?Mt(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(e,n,r){if(!i||i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),c(o,u)||(o[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),tn(Zt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return tn(Zt(e,r,n),Mt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function tn(e,t,n,r){var i=r?function(e,t,i){return n(r(e),t,i)}:n,o=ot(i);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=ue}),(function(t){e.fail(t),n=ue}))||o(e.value,e,(function(e){return n=e})),n()}))}))}function nn(e,t){try{var n=an(e),r=an(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return on(un(e),un(t));case"Array":return rn(e,t)}}catch(Sr){}return NaN}function rn(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=nn(e[o],t[o]);if(0!==a)return a}return n===r?0:n<r?-1:1}function on(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function an(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=j(e);return"ArrayBuffer"===n?"binary":n}function un(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var sn=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,St.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,St.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Mt(t.algorithm,e)},e.prototype._iterate=function(e,t){return en(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return en(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if($t(n,!0))return r.count({trans:e,query:{index:Qt(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return en(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){var n=o(e,i),r=o(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(u)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&$t(n,!0)&&n.limit>0){var r=n.valueMapper,i=Qt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var o=[];return en(n,(function(e){return o.push(e)}),e,n.table.core).then((function(){return o}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,$t(t)?Ht(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Ht(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ht(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return Xt(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){return Xt(this._ctx,(function(t){return e(t.value)})),Wt(this._ctx,e),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&$t(t,!0)&&t.limit>0)return this._read((function(e){var n=Qt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){var t=e.result;return t})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Xt(this._ctx,(function(e){var t=e.primaryKey.toString(),r=c(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"===typeof e)o=e;else{var a=i(e),u=a.length;o=function(t){for(var n=!1,r=0;r<u;++r){var i=a[r],o=e[i];A(t,i)!==o&&(O(t,i,o),n=!0)}return n}}var s=n.table.core,c=s.schema.primaryKey,f=c.outbound,l=c.extractKey,h=t.db._options.modifyChunkSize||200,p=[],d=0,y=[],v=function(e,t){var n=t.failures,r=t.numFailures;d+=e-r;for(var o=0,a=i(n);o<a.length;o++){var u=a[o];p.push(n[u])}};return t.clone().primaryKeys().then((function(t){var i=function(a){var u=Math.min(h,t.length-a);return s.getMany({trans:r,keys:t.slice(a,a+u),cache:"immutable"}).then((function(c){for(var p=[],d=[],y=f?[]:null,g=[],b=0;b<u;++b){var m=c[b],w={value:R(m),primKey:t[a+b]};!1!==o.call(w,w.value,w)&&(null==w.value?g.push(t[a+b]):f||0===nn(l(m),l(w.value))?(d.push(w.value),f&&y.push(t[a+b])):(g.push(t[a+b]),p.push(w.value)))}var _=$t(n)&&n.limit===1/0&&("function"!==typeof e||e===cn)&&{index:n.index,range:n.range};return Promise.resolve(p.length>0&&s.mutate({trans:r,type:"add",values:p}).then((function(e){for(var t in e.failures)g.splice(parseInt(t),1);v(p.length,e)}))).then((function(){return(d.length>0||_&&"object"===typeof e)&&s.mutate({trans:r,type:"put",keys:y,values:d,criteria:_,changeSpec:"function"!==typeof e&&e}).then((function(e){return v(d.length,e)}))})).then((function(){return(g.length>0||_&&e===cn)&&s.mutate({trans:r,type:"delete",keys:g,criteria:_}).then((function(e){return v(g.length,e)}))})).then((function(){return t.length>a+u&&i(a+h)}))}))};return i(0).then((function(){if(p.length>0)throw new Z("Error modifying one or more objects",p,d,y);return t.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return $t(e)&&(e.isPrimKey&&!Ut||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures;e.lastResult,e.results;var r=e.numFailures;if(r)throw new Z("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(cn)},e}(),cn=function(e,t){return t.value=null};function fn(e){return Gt(sn.prototype,(function(t,n){this.db=e;var r=Yt,i=null;if(n)try{r=n()}catch(s){i=s}var o=t._ctx,a=o.table,u=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:u!==se?u:null}}))}function ln(e,t){return e<t?-1:e===t?0:1}function hn(e,t){return e>t?-1:e===t?0:1}function pn(e,t,n){var r=e instanceof _n?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function dn(e){return new e.Collection(e,(function(){return wn("")})).limit(0)}function yn(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function vn(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function gn(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function bn(e,t,n,r){var i,o,a,u,s,c,f,l=n.length;if(!n.every((function(e){return"string"===typeof e})))return pn(e,Rt);function h(e){i=yn(e),o=vn(e),a="next"===e?ln:hn;var t=n.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),c=e,f="next"===e?"":r}h("next");var p=new e.Collection(e,(function(){return mn(u[0],s[l-1]+r)}));p._ondirectionchange=function(e){h(e)};var d=0;return p._addAlgorithm((function(e,n,r){var i=e.key;if("string"!==typeof i)return!1;var h=o(i);if(t(h,s,d))return!0;for(var p=null,y=d;y<l;++y){var v=gn(i,h,u[y],s[y],a,c);null===v&&null===p?d=y+1:(null===p||a(p,v)>0)&&(p=v)}return n(null!==p?function(){e.continue(p+f)}:r),!1})),p}function mn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function wn(e){return{type:1,lower:e,upper:e}}var _n=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?dn(this):new this.Collection(this,(function(){return mn(e,t,!n,!r)}))}catch(i){return pn(this,Ct)}},e.prototype.equals=function(e){return null==e?pn(this,Ct):new this.Collection(this,(function(){return wn(e)}))},e.prototype.above=function(e){return null==e?pn(this,Ct):new this.Collection(this,(function(){return mn(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?pn(this,Ct):new this.Collection(this,(function(){return mn(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?pn(this,Ct):new this.Collection(this,(function(){return mn(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?pn(this,Ct):new this.Collection(this,(function(){return mn(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!==typeof e?pn(this,Rt):this.between(e,e+kt,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):bn(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],kt)},e.prototype.equalsIgnoreCase=function(e){return bn(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=L.apply(D,arguments);return 0===e.length?dn(this):bn(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=L.apply(D,arguments);return 0===e.length?dn(this):bn(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,kt)},e.prototype.anyOf=function(){var e=this,t=L.apply(D,arguments),n=this._cmp;try{t.sort(n)}catch(o){return pn(this,Ct)}if(0===t.length)return dn(this);var r=new this.Collection(this,(function(){return mn(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,o){var a=e.key;while(n(a,t[i])>0)if(++i,i===t.length)return r(o),!1;return 0===n(a,t[i])||(r((function(){e.continue(t[i])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[Bt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=L.apply(D,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return pn(this,Ct)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[Bt,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,o=this._descending,a=this._min,u=this._max;if(0===e.length)return dn(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return pn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",re.InvalidArgument);var s=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;function f(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n];if(r(t[0],o[1])<0&&r(t[1],o[0])>0){o[0]=a(o[0],t[0]),o[1]=u(o[1],t[1]);break}}return n===i&&e.push(t),e}var l,h=i;function p(e,t){return h(e[0],t[0])}try{l=e.reduce(f,[]),l.sort(p)}catch(w){return pn(this,Ct)}var d=0,y=c?function(e){return i(e,l[d][1])>0}:function(e){return i(e,l[d][1])>=0},v=s?function(e){return o(e,l[d][0])>0}:function(e){return o(e,l[d][0])>=0};function g(e){return!y(e)&&!v(e)}var b=y,m=new this.Collection(this,(function(){return mn(l[0][0],l[l.length-1][1],!s,!c)}));return m._ondirectionchange=function(e){"next"===e?(b=y,h=i):(b=v,h=o),l.sort(p)},m._addAlgorithm((function(e,t,r){var o=e.key;while(b(o))if(++d,d===l.length)return t(r),!1;return!!g(o)||(0===n._cmp(o,l[d][1])||0===n._cmp(o,l[d][0])||t((function(){h===i?e.continue(l[d][0]):e.continue(l[d][1])})),!1)})),m},e.prototype.startsWithAnyOf=function(){var e=L.apply(D,arguments);return e.every((function(e){return"string"===typeof e}))?0===e.length?dn(this):this.inAnyRange(e.map((function(e){return[e,e+kt]}))):pn(this,"startsWithAnyOf() only works with strings")},e}();function En(e){return Gt(_n.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var i=e._deps.indexedDB;if(!i)throw new re.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}function An(e){return ot((function(t){return On(t),e(t.target.error),!1}))}function On(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Pn="storagemutated",Sn="x-storagemutated-1",xn=zt(null,Pn),Tn=function(){function e(){}return e.prototype._lock=function(){return m(!Ke.global),++this._reculock,1!==this._reculock||Ke.global||(Ke.lockOwnerFor=this),this},e.prototype._unlock=function(){if(m(!Ke.global),0===--this._reculock){Ke.global||(Ke.lockOwnerFor=null);while(this._blockedFuncs.length>0&&!this._locked()){var e=this._blockedFuncs.shift();try{wt(e[1],e[0])}catch(t){}}}return this},e.prototype._locked=function(){return this._reculock&&Ke.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(m(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new re.DatabaseClosed(r);case"MissingAPIError":throw new re.MissingAPI(r.message,r);default:throw new re.OpenFailed(r)}if(!this.active)throw new re.TransactionInactive;return m(null===this._completion._state),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=ot((function(n){On(n),t._reject(e.error)})),e.onabort=ot((function(n){On(n),t.active&&t._reject(new re.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=ot((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&xn.storagemutated.fire(e["mutatedParts"])})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return St(new re.ReadOnly("Transaction is readonly"));if(!this.active)return St(new re.TransactionInactive);if(this._locked())return new Me((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},Ke])}));if(n)return ht((function(){var e=new Me((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Me((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=Me.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);(function e(){++t._spinCount;while(t._waitingQueue.length)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)})()}var i=t._waitingFor;return new Me((function(e,r){n.then((function(n){return t._waitingQueue.push(ot(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(ot(r.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new re.Abort))},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var n=this.schema[e];if(!n)throw new re.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function kn(e){return Gt(Tn.prototype,(function(t,n,r,i,o){var a=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=zt(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Me((function(e,t){a._resolve=e,a._reject=t})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(e){var t=a.active;return a.active=!1,a.on.error.fire(e),a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort(),St(e)}))}))}function Bn(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Cn(t)}}function Cn(e){return"string"===typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Rn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:_(n,(function(e){return[e.name,e]}))}}function Nn(e){return 1===e.length?e[0]:e}var In=function(e){try{return e.only([[]]),In=function(){return[[]]},[[]]}catch(t){return In=function(){return kt},kt}};function jn(e){return null==e?function(){}:"string"===typeof e?Un(e):function(t){return A(t,e)}}function Un(e){var t=e.split(".");return 1===t.length?function(t){return t[e]}:function(t){return A(t,e)}}function Kn(e){return[].slice.call(e)}var Dn=0;function Ln(e){return null==e?":id":"string"===typeof e?e:"["+e.join("+")+"]"}function Fn(e,t,n){function r(e,t){var n=Kn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=o(t),i=null==t,a={},u={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:jn(t)},indexes:Kn(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,i=e.keyPath,u=o(i),s={name:t,compound:u,keyPath:i,unique:n,multiEntry:r,extractKey:jn(i)};return a[Ln(i)]=s,s})),getIndexByKeyPath:function(e){return a[Ln(e)]}};return a[":id"]=u.primaryKey,null!=t&&(a[Ln(t)]=u.primaryKey),u}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen,o=e.upperOpen,a=void 0===n?void 0===r?null:t.upperBound(r,!!o):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!o);return a}function a(e){var t=e.name;function n(e){var n=e.trans,r=e.type,o=e.keys,a=e.values,u=e.range;return new Promise((function(e,s){e=ot(e);var c=n.objectStore(t),f=null==c.keyPath,l="put"===r||"add"===r;if(!l&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);var h,p=(o||a||{length:1}).length;if(o&&a&&o.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var d=[],y=[],v=0,g=function(e){++v,On(e)};if("deleteRange"===r){if(4===u.type)return e({numFailures:v,failures:y,results:[],lastResult:void 0});3===u.type?d.push(h=c.clear()):d.push(h=c.delete(i(u)))}else{var b=l?f?[a,o]:[a,null]:[o,null],m=b[0],w=b[1];if(l)for(var _=0;_<p;++_)d.push(h=w&&void 0!==w[_]?c[r](m[_],w[_]):c[r](m[_])),h.onerror=g;else for(_=0;_<p;++_)d.push(h=c[r](m[_])),h.onerror=g}var E=function(t){var n=t.target.result;d.forEach((function(e,t){return null!=e.error&&(y[t]=e.error)})),e({numFailures:v,failures:y,results:"delete"===r?o:d.map((function(e){return e.result})),lastResult:n})};h.onerror=function(e){g(e),E(e)},h.onsuccess=E}))}function r(e){var n=e.trans,r=e.values,o=e.query,a=e.reverse,u=e.unique;return new Promise((function(e,s){e=ot(e);var c=o.index,f=o.range,l=n.objectStore(t),h=c.isPrimaryKey?l:l.index(c.name),p=a?u?"prevunique":"prev":u?"nextunique":"next",d=r||!("openKeyCursor"in h)?h.openCursor(i(f),p):h.openKeyCursor(i(f),p);d.onerror=An(s),d.onsuccess=ot((function(t){var r=d.result;if(r){r.___id=++Dn,r.done=!1;var i=r.continue.bind(r),o=r.continuePrimaryKey;o&&(o=o.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not started")},c=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=u,r.fail=ot(s),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=ot(e),d.onerror=An(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=c,e(t)}})),n=function(){if(d.result)try{e()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return d.onsuccess=ot((function(e){d.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=o,r.advance=a,n(),t},e(r)}else e(null)}),s)}))}function o(e){return function(n){return new Promise((function(r,o){r=ot(r);var a=n.trans,u=n.values,s=n.limit,c=n.query,f=s===1/0?void 0:s,l=c.index,h=c.range,p=a.objectStore(t),d=l.isPrimaryKey?p:p.index(l.name),y=i(h);if(0===s)return r({result:[]});if(e){var v=u?d.getAll(y,f):d.getAllKeys(y,f);v.onsuccess=function(e){return r({result:e.target.result})},v.onerror=An(o)}else{var g=0,b=u||!("openKeyCursor"in d)?d.openCursor(y):d.openKeyCursor(y),m=[];b.onsuccess=function(e){var t=b.result;return t?(m.push(u?t.value:t.primaryKey),++g===s?r({result:m}):void t.continue()):r({result:m})},b.onerror=An(o)}}))}}return{name:t,schema:e,mutate:n,getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,i){e=ot(e);for(var o,a=n.objectStore(t),u=r.length,s=new Array(u),c=0,f=0,l=function(t){var n=t.target;s[n._pos]=n.result,++f===c&&e(s)},h=An(i),p=0;p<u;++p){var d=r[p];null!=d&&(o=a.get(r[p]),o._pos=p,o.onsuccess=l,o.onerror=h,++c)}0===c&&e(s)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,i){e=ot(e);var o=n.objectStore(t),a=o.get(r);a.onsuccess=function(t){return e(t.target.result)},a.onerror=An(i)}))},query:o(c),openCursor:r,count:function(e){var n=e.query,r=e.trans,o=n.index,a=n.range;return new Promise((function(e,n){var u=r.objectStore(t),s=o.isPrimaryKey?u:u.index(o.name),c=i(a),f=c?s.count(c):s.count();f.onsuccess=ot((function(t){return e(t.target.result)})),f.onerror=An(n)}))}}}var u=r(e,n),s=u.schema,c=u.hasGetAll,f=s.tables.map((function(e){return a(e)})),l={};return f.forEach((function(e){return l[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){var t=l[e];if(!t)throw new Error("Table '"+e+"' not found");return l[e]},MIN_KEY:-1/0,MAX_KEY:In(t),schema:s}}function Mn(t,n){return n.reduce((function(t,n){var r=n.create;return e(e({},t),r(t))}),t)}function Yn(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=Mn(Fn(t,i,r),e.dbcore);return{dbcore:o}}function qn(e,t){var n=e._novip,r=t.db,i=Yn(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function Vn(e,t,n,r){var i=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=y(t,e);(!r||"value"in r&&void 0===r.value)&&(t===i.Transaction.prototype||t instanceof i.Transaction?h(t,e,{get:function(){return this.table(e)},set:function(t){l(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new i.Table(e,n))}))}))}function zn(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)e[t]instanceof n.Table&&delete e[t]}))}function Gn(e,t){return e._cfg.version-t._cfg.version}function Jn(e,t,n,r){var o=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,o);a.create(n),a._completion.catch(r);var u=a._reject.bind(a),s=Ke.transless||Ke;ht((function(){Ke.trans=a,Ke.transless=s,0===t?(i(o).forEach((function(e){Hn(n,e,o[e].primKey,o[e].indexes)})),qn(e,n),Me.follow((function(){return e.on.populate.fire(a)})).catch(u)):$n(e,t,a,n).catch(u)}))}function $n(e,t,n,r){var o=e._novip,a=[],u=o._versions,s=o._dbSchema=er(o,o.idbdb,r),c=!1,f=u.filter((function(e){return e._cfg.version>=t}));function l(){return a.length?Me.resolve(a.shift()(n.idbtrans)).then(l):Me.resolve()}return f.forEach((function(e){a.push((function(){var a=s,u=e._cfg.dbschema;rr(o,a,r),rr(o,u,r),s=o._dbSchema=u;var f=Xn(a,u);f.add.forEach((function(e){Hn(r,e[0],e[1].primKey,e[1].indexes)})),f.change.forEach((function(e){if(e.recreate)throw new re.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return Zn(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Zn(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=e._cfg.contentUpgrade;if(l&&e._cfg.version>t){qn(o,r),n._memoizedTables={},c=!0;var h=S(u);f.del.forEach((function(e){h[e]=a[e]})),zn(o,[o.Transaction.prototype]),Vn(o,[o.Transaction.prototype],i(h),h),n.schema=h;var p,d=F(l);d&&pt();var y=Me.follow((function(){if(p=l(n),p&&d){var e=dt.bind(null,null);p.then(e,e)}}));return p&&"function"===typeof p.then?Me.resolve(p):y.then((function(){return p}))}})),a.push((function(t){if(!c||!jt){var r=e._cfg.dbschema;Qn(r,t)}zn(o,[o.Transaction.prototype]),Vn(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),l().then((function(){Wn(s,r)}))}function Xn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],o=t[n];if(i){var a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!==""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!It)a.recreate=!0,r.change.push(a);else{var u=i.idxByName,s=o.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var f=u[c],l=s[c];f?f.src!==l.src&&a.change.push(l):a.add.push(l)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,o])}return r}function Hn(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return Zn(i,e)})),i}function Wn(e,t){i(e).forEach((function(n){t.db.objectStoreNames.contains(n)||Hn(t,n,e[n].primKey,e[n].indexes)}))}function Qn(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}function Zn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function er(e,t,n){var r={},i=g(t.objectStoreNames,0);return i.forEach((function(e){for(var t=n.objectStore(e),i=t.keyPath,o=Bn(Cn(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!==typeof i,!0),a=[],u=0;u<t.indexNames.length;++u){var s=t.index(t.indexNames[u]);i=s.keyPath;var c=Bn(s.name,i,!!s.unique,!!s.multiEntry,!1,i&&"string"!==typeof i,!1);a.push(c)}r[e]=Rn(e,o,a)})),r}function tr(e,t,n){var r=e._novip;r.verno=t.version/10;var o=r._dbSchema=er(r,t,n);r._storeNames=g(t.objectStoreNames,0),Vn(r,[r._allTables],i(o),o)}function nr(e,t){var n=er(e,e.idbdb,t),r=Xn(n,e._dbSchema);return!(r.add.length||r.change.some((function(e){return e.add.length||e.change.length})))}function rr(e,t,n){for(var i=e._novip,o=n.db.objectStoreNames,a=0;a<o.length;++a){var u=o[a],s=n.objectStore(u);i._hasGetAll="getAll"in s;for(var c=0;c<s.indexNames.length;++c){var f=s.indexNames[c],l=s.index(f).keyPath,h="string"===typeof l?l:"["+g(l).join("+")+"]";if(t[u]){var p=t[u].idxByName[h];p&&(p.name=f,delete t[u].idxByName[h],t[u].idxByName[f]=p)}}}"undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function ir(e){return e.split(",").map((function(e,t){e=e.trim();var n=e.replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Bn(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),0===t)}))}var or=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){i(e).forEach((function(n){if(null!==e[n]){var r=ir(e[n]),i=r.shift();if(i.multi)throw new re.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new re.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new re.Schema("Index must have a name and cannot be an empty string")})),t[n]=Rn(n,i,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){a(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,zn(t,[t._allTables,t,t.Transaction.prototype]),Vn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(o),o),t._storeNames=i(o),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||ue,e),this},e}();function ar(e){return Gt(or.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}function ur(e,t){var n=e["_dbNamesDB"];return n||(n=e["_dbNamesDB"]=new Lr(Dt,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function sr(e){return e&&"function"===typeof e.databases}function cr(e){var t=e.indexedDB,n=e.IDBKeyRange;return sr(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==Dt}))})):ur(t,n).toCollection().primaryKeys()}function fr(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!sr(n)&&t!==Dt&&ur(n,r).put({name:t}).catch(ue)}function lr(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!sr(n)&&t!==Dt&&ur(n,r).delete(t).catch(ue)}function hr(e){return ht((function(){return Ke.letThrough=!0,e()}))}function pr(){var e,t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);return t&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function dr(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?St(t.dbOpenError):e}));M&&(t.openCanceller._stackHolder=z()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new re.DatabaseClosed("db.open() was cancelled")}var o=t.dbReadyResolve,a=null,u=!1;return Me.race([r,("undefined"===typeof navigator?Me.resolve():pr()).then((function(){return new Me((function(r,o){if(i(),!n)throw new re.MissingAPI;var s=e.name,c=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!c)throw new re.MissingAPI;c.onerror=An(o),c.onblocked=ot(e._fireOnBlocked),c.onupgradeneeded=ot((function(r){if(a=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=On,a.abort(),c.result.close();var i=n.deleteDatabase(s);i.onsuccess=i.onerror=ot((function(){o(new re.NoSuchDatabase("Database "+s+" doesnt exist"))}))}else{a.onerror=An(o);var f=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=f<1,e._novip.idbdb=c.result,Jn(e,f/10,a,o)}}),o),c.onsuccess=ot((function(){a=null;var n=e._novip.idbdb=c.result,i=g(n.objectStoreNames);if(i.length>0)try{var o=n.transaction(Nn(i),"readonly");t.autoSchema?tr(e,n,o):(rr(e,e._dbSchema,o),nr(e,o)),qn(e,o)}catch(f){}Nt.push(e),n.onversionchange=ot((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=ot((function(t){e.on("close").fire(t)})),u&&fr(e._deps,s),r()}),o)}))}))]).then((function(){return i(),t.onReadyBeingFired=[],Me.resolve(hr((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(ye,ue);return t.onReadyBeingFired=[],Me.resolve(hr((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((function(){return e})).catch((function(n){t.dbOpenError=n;try{a&&a.abort()}catch(Sr){}return r===t.openCanceller&&e._close(),St(n)})).finally((function(){t.openComplete=!0,o()}))}function yr(e){var t=function(t){return e.next(t)},n=function(t){return e.throw(t)},r=a(t),i=a(n);function a(e){return function(t){var n=e(t),a=n.value;return n.done?a:a&&"function"===typeof a.then?a.then(r,i):o(a)?Promise.all(a).then(r,i):r(a)}}return a(t)()}function vr(e,t,n){var r=arguments.length;if(r<2)throw new re.InvalidArgument("Too few arguments");var i=new Array(r-1);while(--r)i[r-1]=arguments[r];n=i.pop();var o=T(i);return[e,o,n]}function gr(e,t,n,r,i){return Me.resolve().then((function(){var o=Ke.transless||Ke,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(l){return l.name===te.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(e._close(),e.open().then((function(){return gr(e,t,n,null,i)}))):St(l)}var s,c=F(i);c&&pt();var f=Me.follow((function(){if(s=i.call(a,a),s)if(c){var e=dt.bind(null,null);s.then(e,e)}else"function"===typeof s.next&&"function"===typeof s.throw&&(s=yr(s))}),u);return(s&&"function"===typeof s.then?Me.resolve(s).then((function(e){return a.active?e:St(new re.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):f.then((function(){return s}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),St(e)}))}))}function br(e,t,n){for(var r=o(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}function mr(t){return e(e({},t),{table:function(n){var r=t.table(n),i=r.schema,o={},a=[];function u(t,n,r){var i=Ln(t),s=o[i]=o[i]||[],c=null==t?0:"string"===typeof t?1:t.length,f=n>0,l=e(e({},r),{isVirtual:f,keyTail:n,keyLength:c,extractKey:jn(t),unique:!f&&r.unique});if(s.push(l),l.isPrimaryKey||a.push(l),c>1){var h=2===c?t[0]:t.slice(0,c-1);u(h,n+1,r)}return s.sort((function(e,t){return e.keyTail-t.keyTail})),l}var s=u(i.primaryKey.keyPath,0,i.primaryKey);o[":id"]=[s];for(var c=0,f=i.indexes;c<f.length;c++){var l=f[c];u(l.keyPath,0,l)}function h(e){var t=o[Ln(e)];return t&&t[0]}function p(e,n){return{type:1===e.type?2:e.type,lower:br(e.lower,e.lowerOpen?t.MAX_KEY:t.MIN_KEY,n),lowerOpen:!0,upper:br(e.upper,e.upperOpen?t.MIN_KEY:t.MAX_KEY,n),upperOpen:!0}}function d(t){var n=t.query.index;return n.isVirtual?e(e({},t),{query:{index:n,range:p(t.query.range,n.keyTail)}}):t}var y=e(e({},r),{schema:e(e({},i),{primaryKey:s,indexes:a,getIndexByKeyPath:h}),count:function(e){return r.count(d(e))},query:function(e){return r.query(d(e))},openCursor:function(e){var n=e.query.index,i=n.keyTail,o=n.isVirtual,a=n.keyLength;if(!o)return r.openCursor(e);function u(n){function r(r){null!=r?n.continue(br(r,e.reverse?t.MAX_KEY:t.MIN_KEY,i)):e.unique?n.continue(n.key.slice(0,a).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,i)):n.continue()}var o=Object.create(n,{continue:{value:r},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(br(e,t.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}});return o}return r.openCursor(d(e)).then((function(e){return e&&u(e)}))}});return y}})}var wr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:mr};function _r(e,t,n,r){return n=n||{},r=r||"",i(e).forEach((function(i){if(c(t,i)){var o=e[i],a=t[i];if("object"===typeof o&&"object"===typeof a&&o&&a){var u=j(o),s=j(a);u!==s?n[r+i]=t[i]:"Object"===u?_r(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}else n[r+i]=void 0})),i(t).forEach((function(i){c(e,i)||(n[r+i]=t[i])})),n}function Er(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var Ar={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return e(e({},t),{table:function(r){var i=t.table(r),o=i.schema.primaryKey,a=e(e({},i),{mutate:function(t){var a=Ke.trans,u=a.table(r).hook,s=u.deleting,f=u.creating,l=u.updating;switch(t.type){case"add":if(f.fire===ue)break;return a._promise("readwrite",(function(){return h(t)}),!0);case"put":if(f.fire===ue&&l.fire===ue)break;return a._promise("readwrite",(function(){return h(t)}),!0);case"delete":if(s.fire===ue)break;return a._promise("readwrite",(function(){return h(t)}),!0);case"deleteRange":if(s.fire===ue)break;return a._promise("readwrite",(function(){return p(t)}),!0)}return i.mutate(t);function h(t){var r=Ke.trans,a=t.keys||Er(o,t);if(!a)throw new Error("Keys missing");return t="add"===t.type||"put"===t.type?e(e({},t),{keys:a}):e({},t),"delete"!==t.type&&(t.values=n([],t.values,!0)),t.keys&&(t.keys=n([],t.keys,!0)),Or(i,t,a).then((function(e){var n=a.map((function(n,i){var a=e[i],u={onerror:null,onsuccess:null};if("delete"===t.type)s.fire.call(u,n,a,r);else if("add"===t.type||void 0===a){var h=f.fire.call(u,n,t.values[i],r);null==n&&null!=h&&(n=h,t.keys[i]=n,o.outbound||O(t.values[i],o.keyPath,n))}else{var p=_r(a,t.values[i]),d=l.fire.call(u,p,n,a,r);if(d){var y=t.values[i];Object.keys(d).forEach((function(e){c(y,e)?y[e]=d[e]:O(y,e,d[e])}))}}return u}));return i.mutate(t).then((function(r){for(var i=r.failures,o=r.results,u=r.numFailures,s=r.lastResult,c=0;c<a.length;++c){var f=o?o[c]:a[c],l=n[c];null==f?l.onerror&&l.onerror(i[c]):l.onsuccess&&l.onsuccess("put"===t.type&&e[c]?t.values[c]:f)}return{failures:i,results:o,numFailures:u,lastResult:s}})).catch((function(e){return n.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function p(e){return d(e.trans,e.range,1e4)}function d(t,n,r){return i.query({trans:t,values:!1,query:{index:o,range:n},limit:r}).then((function(i){var o=i.result;return h({type:"delete",keys:o,trans:t}).then((function(i){return i.numFailures>0?Promise.reject(i.failures[0]):o.length<r?{failures:[],numFailures:0,lastResult:void 0}:d(t,e(e({},n),{lower:o[o.length-1],lowerOpen:!0}),r)}))}))}}});return a}})}};function Or(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function Pr(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)0===nn(t.keys[i],e[o])&&(r.push(n?R(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(Sr){return null}}var Sr,xr={stack:"dbcore",level:-1,create:function(t){return{table:function(n){var r=t.table(n);return e(e({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=Pr(e.keys,e.trans["_cache"],"clone"===e.cache);return t?Me.resolve(t):r.getMany(e).then((function(t){return e.trans["_cache"]={keys:e.keys,values:"clone"===e.cache?R(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans["_cache"]=null),r.mutate(e)}})}}}};function Tr(e){return!("from"in e)}var kr=function(e,t){if(!this){var n=new kr;return e&&"d"in e&&a(n,e),n}a(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Br(e,t,n){var r=nn(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Tr(e))return a(e,{from:t,to:n,d:1});var i=e.l,o=e.r;if(nn(n,e.from)<0)return i?Br(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Ir(e);if(nn(t,e.to)>0)return o?Br(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Ir(e);nn(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),nn(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var u=!e.r;i&&!e.l&&Cr(e,i),o&&u&&Cr(e,o)}}function Cr(e,t){function n(e,t){var r=t.from,i=t.to,o=t.l,a=t.r;Br(e,r,i),o&&n(e,o),a&&n(e,a)}Tr(t)||n(e,t)}function Rr(e,t){var n=Nr(t),r=n.next();if(r.done)return!1;var i=r.value,o=Nr(e),a=o.next(i.from),u=a.value;while(!r.done&&!a.done){if(nn(u.from,i.to)<=0&&nn(u.to,i.from)>=0)return!0;nn(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(a=o.next(i.from)).value}return!1}function Nr(e){var t=Tr(e)?null:{s:0,n:e};return{next:function(e){var n=arguments.length>0;while(t)switch(t.s){case 0:if(t.s=1,n)while(t.n.l&&nn(e,t.n.from)<0)t={up:t,n:t.n.l,s:1};else while(t.n.l)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||nn(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ir(t){var n,r,i=((null===(n=t.r)||void 0===n?void 0:n.d)||0)-((null===(r=t.l)||void 0===r?void 0:r.d)||0),o=i>1?"r":i<-1?"l":"";if(o){var a="r"===o?"l":"r",u=e({},t),s=t[o];t.from=s.from,t.to=s.to,t[o]=s[o],u[o]=s[a],t[a]=u,u.d=jr(u)}t.d=jr(t)}function jr(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}f(kr.prototype,(Sr={add:function(e){return Cr(this,e),this},addKey:function(e){return Br(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return Br(t,e,e)})),this}},Sr[U]=function(){return Nr(this)},Sr));var Ur={stack:"dbcore",level:0,create:function(t){var n=t.schema.name,r=new kr(t.MIN_KEY,t.MAX_KEY);return e(e({},t),{table:function(a){var u=t.table(a),s=u.schema,c=s.primaryKey,f=c.extractKey,l=c.outbound,h=e(e({},u),{mutate:function(e){var t=e.trans,i=t.mutatedParts||(t.mutatedParts={}),c=function(e){var t="idb://"+n+"/"+a+"/"+e;return i[t]||(i[t]=new kr)},f=c(""),l=c(":dels"),h=e.type,p="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],d=p[0],y=p[1],v=e.trans["_cache"];return u.mutate(e).then((function(e){if(o(d)){"delete"!==h&&(d=e.results),f.addKeys(d);var t=Pr(d,v);t||"add"===h||l.addKeys(d),(t||y)&&Kr(c,s,t,y)}else if(d){var n={from:d.lower,to:d.upper};l.add(n),f.add(n)}else f.add(r),l.add(r),s.indexes.forEach((function(e){return c(e.name).add(r)}));return e}))}}),p=function(e){var n,r,i=e.query,o=i.index,a=i.range;return[o,new kr(null!==(n=a.lower)&&void 0!==n?n:t.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:t.MAX_KEY)]},d={get:function(e){return[c,new kr(e.key)]},getMany:function(e){return[c,(new kr).addKeys(e.keys)]},count:p,query:p,openCursor:p};return i(d).forEach((function(t){h[t]=function(i){var o=Ke.subscr;if(o){var s=function(e){var t="idb://"+n+"/"+a+"/"+e;return o[t]||(o[t]=new kr)},c=s(""),h=s(":dels"),p=d[t](i),y=p[0],v=p[1];if(s(y.name||"").add(v),!y.isPrimaryKey){if("count"!==t){var g="query"===t&&l&&i.values&&u.query(e(e({},i),{values:!1}));return u[t].apply(this,arguments).then((function(e){if("query"===t){if(l&&i.values)return g.then((function(t){var n=t.result;return c.addKeys(n),e}));var n=i.values?e.result.map(f):e.result;i.values?c.addKeys(n):h.addKeys(n)}else if("openCursor"===t){var r=e,o=i.values;return r&&Object.create(r,{key:{get:function(){return h.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return h.addKey(e),e}},value:{get:function(){return o&&c.addKey(r.primaryKey),r.value}}})}return e}))}h.add(r)}}return u[t].apply(this,arguments)}})),h}})}};function Kr(e,t,n,r){function i(t){var i=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}var u=function(e){return t.multiEntry&&o(e)?e.forEach((function(e){return i.addKey(e)})):i.addKey(e)};(n||r).forEach((function(e,t){var i=n&&a(n[t]),o=r&&a(r[t]);0!==nn(i,o)&&(null!=i&&u(i),null!=o&&u(o))}))}t.indexes.forEach(i)}var Dr,Lr=function(){function t(n,r){var i=this;this._middlewares={},this.verno=0;var o=t.dependencies;this._options=r=e({addons:t.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var a=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ue,dbReadyPromise:null,cancelOpen:ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};u.dbReadyPromise=new Me((function(e){u.dbReadyResolve=e})),u.openCanceller=new Me((function(e,t){u.cancelOpen=t})),this._state=u,this.name=n,this.on=zt(this,"populate","blocked","versionchange","close",{ready:[ye,ue]}),this.on.ready.subscribe=b(this.on.ready.subscribe,(function(e){return function(n,r){t.vip((function(){var t=i._state;if(t.openComplete)t.dbOpenError||Me.resolve().then(n),r&&e(n);else if(t.onReadyBeingFired)t.onReadyBeingFired.push(n),r&&e(n);else{e(n);var o=i;r||e((function e(){o.on.ready.unsubscribe(n),o.on.ready.unsubscribe(e)}))}}))}})),this.Collection=fn(this),this.Table=Jt(this),this.Transaction=kn(this),this.Version=ar(this),this.WhereClause=En(this),this.on("versionchange",(function(e){e.newVersion,i.close()})),this.on("blocked",(function(e){!e.newVersion||(e.newVersion,e.oldVersion)})),this._maxKey=In(r.IDBKeyRange),this._createTransaction=function(e,t,n,r){return new i.Transaction(e,t,n,i._options.chromeTransactionDurability,r)},this._fireOnBlocked=function(e){i.on("blocked").fire(e),Nt.filter((function(e){return e.name===i.name&&e!==i&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(wr),this.use(Ar),this.use(Ur),this.use(xr),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(e){return e(i)}))}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new re.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new re.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Gn),n.stores({}),this._state.autoSchema=!1,n)},t.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||Ke.letThrough||this._vip)?e():new Me((function(e,n){if(t._state.openComplete)return n(new re.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new re.DatabaseClosed);t.open().catch(ue)}t._state.dbReadyPromise.then(e,n)})).then(e)},t.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:null==r?10:r,name:i}),o.sort((function(e,t){return e.level-t.level})),this},t.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},t.prototype.open=function(){return dr(this)},t.prototype._close=function(){var e=this._state,t=Nt.indexOf(this);if(t>=0&&Nt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new Me((function(t){e.dbReadyResolve=t})),e.openCanceller=new Me((function(t,n){e.cancelOpen=n}))},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new re.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new Me((function(r,i){var o=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=ot((function(){lr(e._deps,e.name),r()})),t.onerror=An(i),t.onblocked=e._fireOnBlocked};if(t)throw new re.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()}))},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return null!==this.idbdb},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},t.prototype.hasFailed=function(){return null!==this._state.dbOpenError},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return i(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=vr.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,t,n){var r=this,i=Ke.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var o,a,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!==typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Lt)o=Lt;else{if("rw"!=e&&e!=Ft)throw new re.InvalidArgument("Invalid transaction mode: "+e);o=Ft}if(i){if(i.mode===Lt&&o===Ft){if(!u)throw new re.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!u)throw new re.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),u&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,(function(e,t){t(c)})):St(c)}var s=gr.bind(null,this,o,a,i,n);return i?i._promise(o,s,"lock"):Ke.trans?wt(Ke.transless,(function(){return r._whenReady(s)})):this._whenReady(s)},t.prototype.table=function(e){if(!c(this._allTables,e))throw new re.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),Fr="undefined"!==typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",Mr=function(){function e(e){this._subscribe=e}return e.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!==typeof e?e:{next:e,error:t,complete:n})},e.prototype[Fr]=function(){return this},e}();function Yr(e,t){return i(t).forEach((function(n){var r=e[n]||(e[n]=new kr);Cr(r,t[n])})),e}function qr(e){var t=!1,n=void 0,r=new Mr((function(r){var o=F(e);function a(t){o&&pt();var n=function(){return ht(e,{subscr:t,trans:null})},r=Ke.trans?wt(Ke.transless,n):n();return o&&r.then(dt,dt),r}var u=!1,s={},c={},f={get closed(){return u},unsubscribe:function(){u=!0,xn.storagemutated.unsubscribe(d)}};r.start&&r.start(f);var l=!1,h=!1;function p(){return i(c).some((function(e){return s[e]&&Rr(s[e],c[e])}))}var d=function(e){Yr(s,e),p()&&y()},y=function(){if(!l&&!u){s={};var e={},i=a(e);h||(xn(Pn,d),h=!0),l=!0,Promise.resolve(i).then((function(i){t=!0,n=i,l=!1,u||(p()?y():(s={},c=e,r.next&&r.next(i)))}),(function(e){l=!1,t=!1,r.error&&r.error(e),f.unsubscribe()}))}};return y(),f}));return r.hasValue=function(){return t},r.getValue=function(){return n},r}try{Dr={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(Wr){Dr={indexedDB:null,IDBKeyRange:null}}var Vr=Lr;function zr(e){var t=Gr;try{Gr=!0,xn.storagemutated.fire(e)}finally{Gr=t}}f(Vr,e(e({},ae),{delete:function(e){var t=new Vr(e,{addons:[]});return t.delete()},exists:function(e){return new Vr(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return cr(Vr.dependencies).then(e)}catch(Sr){return St(new re.MissingAPI)}},defineClass:function(){function e(e){a(this,e)}return e},ignoreTransaction:function(e){return Ke.trans?wt(Ke.transless,e):e()},vip:hr,async:function(e){return function(){try{var t=yr(e.apply(this,arguments));return t&&"function"===typeof t.then?t:Me.resolve(t)}catch(Wr){return St(Wr)}}},spawn:function(e,t,n){try{var r=yr(e.apply(n,t||[]));return r&&"function"===typeof r.then?r:Me.resolve(r)}catch(Wr){return St(Wr)}},currentTransaction:{get:function(){return Ke.trans||null}},waitFor:function(e,t){var n=Me.resolve("function"===typeof e?Vr.ignoreTransaction(e):e).timeout(t||6e4);return Ke.trans?Ke.trans.waitFor(n):n},Promise:Me,debug:{get:function(){return M},set:function(e){Y(e,"dexie"===e?function(){return!0}:Kt)}},derive:p,extend:a,props:f,override:b,Events:zt,on:xn,liveQuery:qr,extendObservabilitySet:Yr,getByKeyPath:A,setByKeyPath:O,delByKeyPath:P,shallowClone:S,deepClone:R,getObjectDiff:_r,cmp:nn,asap:w,minKey:Bt,addons:[],connections:Nt,errnames:te,dependencies:Dr,semVer:Tt,version:Tt.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),Vr.maxKey=In(Vr.dependencies.IDBKeyRange),"undefined"!==typeof dispatchEvent&&"undefined"!==typeof addEventListener&&(xn(Pn,(function(e){var t;Gr||(It?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Sn,!0,!0,e)):t=new CustomEvent(Sn,{detail:e}),Gr=!0,dispatchEvent(t),Gr=!1)})),addEventListener(Sn,(function(e){var t=e.detail;Gr||zr(t)})));var Gr=!1;if("undefined"!==typeof BroadcastChannel){var Jr=new BroadcastChannel(Sn);"function"===typeof Jr.unref&&Jr.unref(),xn(Pn,(function(e){Gr||Jr.postMessage(e)})),Jr.onmessage=function(e){e.data&&zr(e.data)}}else if("undefined"!==typeof self&&"undefined"!==typeof navigator){xn(Pn,(function(e){try{Gr||("undefined"!==typeof localStorage&&localStorage.setItem(Sn,JSON.stringify({trig:Math.random(),changedParts:e})),"object"===typeof self["clients"]&&n([],self["clients"].matchAll({includeUncontrolled:!0}),!0).forEach((function(t){return t.postMessage({type:Sn,changedParts:e})})))}catch(Sr){}})),"undefined"!==typeof addEventListener&&addEventListener("storage",(function(e){if(e.key===Sn){var t=JSON.parse(e.newValue);t&&zr(t.changedParts)}}));var $r=self.document&&navigator.serviceWorker;$r&&$r.addEventListener("message",Xr)}function Xr(e){var t=e.data;t&&t.type===Sn&&zr(t.changedParts)}Me.rejectionMapper=oe,Y(M,Kt);var Hr=Object.freeze({__proto__:null,Dexie:Lr,liveQuery:qr,default:Lr,RangeSet:kr,mergeRanges:Cr,rangesOverlap:Rr});return e(Lr,Hr,{default:Lr}),Lr}))}).call(this,n("c8ba"))},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),u=a,s=0;s<a;s++)if(i[s]!==o[s]){u=s;break}var c=[];for(s=u;s<i.length;s++)c.push("..");return c=c.concat(o.slice(u)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===r&&(i=!1,r=a+1),46===u?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}}}]);